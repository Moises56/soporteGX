function K2BT_ActionGroup(n){var i='<div>\t<div class="K2BT_ActionGroupHeader" tabindex="0">\t\t<img src="{{HeaderImageURI}}" />\t\t<span>{{HeaderCaption}}<\/span>\t<\/div>\t<div>\t\t<div class="K2BT_ActionGroupContents">\t\t\t<div data-slot="Contents" data-parent="{{ContainerName}}"><\/div>\t\t<\/div>\t<\/div><\/div>',u={},r,t;Mustache.parse(i);this.show=function(){r=n(this.getContainerControl());this.setHtml(Mustache.render(i,this,u));this.renderChildContainers();this.ButtonHandlers()};this.Scripts=[];this.ButtonHandlers=function(){var r=this,t=this.getContainerControl(),i=n(t).find(".K2BT_ActionGroupContents");n(i).hide();n(t).find(".K2BT_ActionGroupHeader").on("click",function(){n(i).toggle()});n(t).find(".K2BT_ActionGroupHeader").on("keydown",function(t){t.key=="Enter"&&n(i).toggle()});r.HeaderImageURI==""&&n(t).find(".K2BT_ActionGroupHeader img").hide();gx.fx.obs.addObserver("gx.onafterevent",k2btools,function(){n(i).hide()},{single:!1,unique:!0});k2btools.$("html").on("click",function(r){n(r.target).closest(t).length==0&&n(i).hide()})};this.autoToggleVisibility=!0;t={};this.renderChildContainers=function(){r.find("[data-slot][data-parent='"+this.ContainerName+"']").each(function(i,r){var e=n(r),f=e.attr("data-slot"),u;u=t[f];u||(u=this.getChildContainer(f),t[f]=u,u.parentNode.removeChild(u));e.append(u);n(u).show()}.closure(this))}}