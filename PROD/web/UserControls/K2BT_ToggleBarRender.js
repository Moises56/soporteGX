function K2BT_ToggleBar(n){var u='<k2bt-toggle-bar data-gx-binding="value"  data-event="CreateItem" \tincludeemptyitem="{{IncludeEmptyItem}}"\temptyitemtext="{{EmptyItemText}}"\tnoresultsfoundtext="{{NoResultsFoundText}}"\tadditemcaption="{{AddItemCaption}}"\ttogglestyle="{{ToggleStyle}}" />',f={},r;Mustache.parse(u);var e=0,o=0,i,t={};this.setAttribute=function(n){t.value=n};this.getAttribute=function(){return t.value};this.show=function(){i=n(this.getContainerControl());e=0;o=0;this.setHtml(Mustache.render(u,this,f));this.renderChildContainers();var r=i.find("[data-gx-binding]"),s=r.attr("data-gx-binding")||"value";r.on("input",function(){t.value=this[s]});r.on("change",function(){t.value=this[s]});r.on("focus",this.onfocus.closure(this));r.on("input",this.oninput.closure(this));r.on("change",this.onchange.closure(this));r.prop(s,t.value);n(this.getContainerControl()).find("[data-event='CreateItem']").on("newRecordClicked",this.onCreateItemHandler.closure(this)).each(function(n){this.setAttribute("data-items-index",n+1)});n(this.getContainerControl()).find("[data-event='ControlValueChanged']").on("controlvaluechanged",this.onControlValueChangedHandler.closure(this)).each(function(n){this.setAttribute("data-items-index",n+1)});this.ButtonHandlers()};this.Scripts=[];this.ButtonHandlers=function(){var t=this,i=this.getContainerControl();this.control=n(i).find("k2bt-toggle-bar");this.control[0].enabled=this.Enabled;this.control[0].readonlyClass=this.Class.split(" ").map(n=>"Readonly"+n).join(" ");this.control[0].emptyitemtext=this._getTranslatedMessage(this._resolveValue(this.EmptyItemText,"GX_EmptyItemText"));this.control[0].noresultsfoundtext=this._getTranslatedMessage(this._resolveValue(this.NoResultsFoundText,"K2BT_NoItems"));this.control[0].additemcaption=this._getTranslatedMessage(this._resolveValue(this.AddItemCaption,"K2BT_EnhancedComboAddItemCaption"));t.Values!=undefined&&t.Values!=null&&(this.control[0].values=t.Values);this.control.on("change",function(n){t.setAttribute(n.originalEvent.detail);t.ControlValueChanged&&t.ControlValueChanged()})};this.SetValues=function(n){this.Values=n;this.control!=null&&(this.control[0].values=this.Values)};this.SetValue=function(n){this.setAttribute(n);this.control!=null&&(this.control[0].value=n);this.ControlValueChanged&&this.ControlValueChanged()};this._resolveValue=function(n,t){return n==undefined||n==""||n==null?t:n};this._getTranslatedMessage=function(n){if(n.indexOf("GX")==0||n.indexOf("K2B")==0){var t=gx.msg[n];if(t!==undefined)return t}return n};this.onCreateItemHandler=function(n){if(n){var t=n.currentTarget;n.preventDefault()}this.CreateItem&&this.CreateItem()};this.onControlValueChangedHandler=function(n){if(n){var t=n.currentTarget;n.preventDefault()}this.ControlValueChanged&&this.ControlValueChanged()};this.autoToggleVisibility=!0;r={};this.renderChildContainers=function(){i.find("[data-slot][data-parent='"+this.ContainerName+"']").each(function(t,i){var e=n(i),f=e.attr("data-slot"),u;u=r[f];u||(u=this.getChildContainer(f),r[f]=u,u.parentNode.removeChild(u));e.append(u);n(u).show()}.closure(this))}}