import{r as t,c as i,h as e,H as n}from"./p-66ea3b4c.js";import{L as s,C as r,E as a,a as o}from"./p-64bdd77e.js";const h=class{constructor(e){t(this,e),this.actionClicked=i(this,"actionClicked",7),this.actions=[],this.isOpen=!1}toggleMenu(){this.isOpen=!this.isOpen}executeAction(t){this.isOpen=!1,this.actionClicked.emit(t.id)}closeMenu(t){this.isOpen&&this.quickDaySelectorContainer&&!this.quickDaySelectorContainer.contains(t.target)&&(this.isOpen=!1)}render(){var t,i;return(null!==(i=null===(t=this.actions)||void 0===t?void 0:t.length)&&void 0!==i?i:0)>0?e("div",{class:"K2BT_CalendarActionMenu "+(this.isOpen?"open":""),ref:t=>this.quickDaySelectorContainer=t},e("span",{class:"K2BT_CalendarActionMenu_ToggleButton",onClick:t=>{t.stopPropagation(),this.toggleMenu()}}),e("div",{class:"K2BT_CalendarActionMenuContents"},this.isOpen&&e("ul",{class:"K2BT_CalendarActionMenu_Dropdown"},this.actions.map((t=>e("li",{onClick:i=>{i.stopPropagation(),this.executeAction(t)}},e("img",{class:"K2BT_CalendarActionMenu_Image GX_Image_"+t.imageName+"_Class",src:t.imageUrl,alt:s.getTranslatedMessage(t.name)}),e("span",null,s.getTranslatedMessage(t.name)))))))):""}};class u{static equalsDate(t,i){return t.getFullYear()===i.getFullYear()&&t.getMonth()===i.getMonth()&&t.getDate()===i.getDate()}static getDayOfWeekShortStringFromDayNumber(t){return k2btools.getDayOfWeekShortStringFromDayNumber(t)}static getDayOfWeekShortString(t){return k2btools.getDayOfWeekShortString(t)}static getMonthName(t){return k2btools.getMonthName(t)}static getDateAtMidnight(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0)}static datePeriodInBound(t,i,e,n){return t<=e&&i>=e||t<=n&&i>=n||e<=t&&n>=t||e<=i&&n>=i}static formatItemDate(t){return 0!==t.getMinutes()?t.getHours()+":"+this.ensureTwoDigits(t.getMinutes()):t.getHours()}static ensureTwoDigits(t){return t<10?"0"+t:t.toString()}static getWeeksOfMonth(t,i,e){const n=new Date(t,i-1,1),s=new Date(t,i,0);var r=new Date(n.getTime());r.setDate(e==c.Sunday?n.getDate()-n.getDay():n.getDate()-n.getDay()+1);var a=new Date(s.getTime());a.setDate(e==c.Sunday?s.getDate()-s.getDay()+7:s.getDate()-s.getDay()+8);const o=[];for(var h=new Date(r.getTime());h<a;)(e==c.Sunday&&0===h.getDay()||e==c.Monday&&1===h.getDay())&&o.push([]),o[o.length-1].push(h),(h=new Date(h.getTime())).setDate(h.getDate()+1);return o}}var l,c;!function(t){t.Day="day",t.Week="week",t.WorkWeek="workweek",t.Month="month"}(l||(l={})),function(t){t.Sunday="Sunday",t.Monday="Monday"}(c||(c={}));const d=class{constructor(e){t(this,e),this.dayClicked=i(this,"dayClicked",7),this.weekstartday=c.Sunday}componentWillRender(){this.currentMonth=this.selectedDate.getMonth(),this.currentYear=this.selectedDate.getFullYear()}render(){const t=new Date,i=u.getMonthName(this.currentMonth),n=u.getWeeksOfMonth(this.currentYear,this.currentMonth+1,this.weekstartday),s=new Date(this.currentYear,this.currentMonth,1),r=new Date(this.currentYear,this.currentMonth+1,0);return e("div",{class:"K2BT_CalendarPickerContainer"},e("div",{class:"K2BT_CalendarPickerHeader"},e("div",{class:"K2BT_CalendarPickerPreviousMonth",onClick:()=>this.previousMonth()}),e("div",{class:"K2BT_CalendarPickerCurrentMonth"},i," ",this.currentYear),e("div",{class:"K2BT_CalendarPickerNextMonth",onClick:()=>this.nextMonth()})),e("div",{class:"K2BT_CalendarPickerWeekdays"},n[0].map((t=>t.getDay())).map((t=>e("div",{class:"K2BT_CalendarPickerWeekday"},u.getDayOfWeekShortStringFromDayNumber(t))))),e("div",{class:"K2BT_CalendarPickerCalendar"},n.map((i=>e("div",{class:"K2BT_CalendarPickerWeek"},i.map((i=>{const n=u.equalsDate(i,t)?"K2BT_CalendarPickerDay K2BT_CalendarPickerToday":"K2BT_CalendarPickerDay";return i>=s&&i<=r?e("div",{class:n,onClick:()=>this.dayClickHandler(i)},i.getDate()):e("div",{class:"K2BT_CalendarPickerDayPlaceholder"})})))))))}previousMonth(){0==this.currentMonth?(this.currentMonth=11,this.currentYear=this.currentYear-1):this.currentMonth=this.currentMonth-1,this.updateSelectedDate()}nextMonth(){11==this.currentMonth?(this.currentMonth=0,this.currentYear=this.currentYear+1):this.currentMonth=this.currentMonth+1,this.updateSelectedDate()}updateSelectedDate(){this.selectedDate=new Date(this.currentYear,this.currentMonth,1,0,0,0)}dayClickHandler(t){t&&this.dayClicked.emit(t)}},f=class{constructor(e){t(this,e),this.creatingNewDraft=i(this,"creatingNewDraft",7),this.newDraftCreated=i(this,"newDraftCreated",7),this.draftCancelled=i(this,"draftCancelled",7),this.itemClicked=i(this,"itemClicked",7),this.actionClicked=i(this,"actionClicked",7),this.calendars=[],this.year=2023,this.month=1,this.day=1,this.readonly=!0,this.draftItemDescription="(no title)",this.showhours=!0,this.alldayrows=10,this.draftItem=null,this.currentDate=new Date,this.creatingDraft=!1,this.mouseMovedWhileCreating=!1,this.draftBaseDate=null,this.intervalId=null,this.scopedfunction=this.onMouseUp.bind(this)}cancelDraft(){null!=this.draftItem&&(this.draftCancelled.emit(this.draftItem),this.draftItem=null)}onMouseDown(t){if(this.readonly){this.draftItem&&(this.draftCancelled.emit(this.draftItem),this.draftItem=null);var i=this.getMousePosition(t,this.baseGridControl),e=Math.floor(i.y/this.baseGridControl.offsetHeight*this.getAmountOfHours()+this.startHour),n=Math.round(4*(i.y/this.baseGridControl.offsetHeight*this.getAmountOfHours()+this.startHour-e))/4*60;this.draftItem=new r,this.draftItem.class="",this.draftItem.isDraft=!0,this.draftItem.description=this.draftItemDescription,this.draftItem.dateFrom=new Date(this.year,this.month,this.day,e,n,0,0),this.draftItem.dateTo=new Date(this.year,this.month,this.day,e+1,n,0,0),this.creatingDraft=!0,this.mouseMovedWhileCreating=!1,this.draftBaseDate=this.draftItem.dateFrom,this.creatingNewDraft.emit(null)}}onMouseMove(t){if(this.readonly&&this.creatingDraft){this.mouseMovedWhileCreating=!0;var i=this.getMousePosition(t,this.baseGridControl),e=Math.floor(i.y/this.baseGridControl.offsetHeight*this.getAmountOfHours()+this.startHour),n=Math.round(4*(i.y/this.baseGridControl.offsetHeight*this.getAmountOfHours()+this.startHour-e))/4*60;60===n&&(n=0,e++),e>this.draftBaseDate.getHours()||e===this.draftBaseDate.getHours()&&n>this.draftBaseDate.getMinutes()?this.draftItem.dateFrom===this.draftBaseDate&&e===this.draftItem.dateTo.getHours()&&n===this.draftItem.dateTo.getMinutes()||(this.draftItem=Object.assign({},this.draftItem),this.draftItem.dateFrom=this.draftBaseDate,this.draftItem.dateTo=new Date(this.year,this.month,this.day,e,n,0,0)):(e<this.draftBaseDate.getHours()||e===this.draftBaseDate.getHours()&&n<this.draftBaseDate.getMinutes())&&(this.draftItem.dateTo===this.draftBaseDate&&e===this.draftItem.dateFrom.getHours()&&n===this.draftItem.dateFrom.getMinutes()||(this.draftItem=Object.assign({},this.draftItem),this.draftItem.dateFrom=new Date(this.year,this.month,this.day,e,n,0,0),this.draftItem.dateTo=this.draftBaseDate))}}onMouseUp(){this.readonly&&this.creatingDraft&&(this.creatingDraft=!1,this.mouseMovedWhileCreating=!1,this.draftItem=Object.assign({},this.draftItem),this.newDraftCreated.emit({item:this.draftItem}))}onItemClicked(t){this.itemClicked.emit({item:t})}onActionClicked(t,i){this.actionClicked.emit({item:t,action:i})}getMousePosition(t,i){const e=i.getBoundingClientRect();return{x:t.clientX-e.left+i.scrollLeft,y:t.clientY-e.top+i.scrollTop}}getDateTo(){return new Date(this.year,this.month,this.day,this.endHour,0,0,0)}getDateFrom(){return new Date(this.year,this.month,this.day,this.startHour,0,0,0)}getAmountOfHours(){return this.endHour-this.startHour}getBoundedDate(t){return t>this.getDateTo()?this.getDateTo():t<this.getDateFrom()?this.getDateFrom():t}render(){for(var t=this.getDay(),i=u.getDayOfWeekShortString(t),n=this.day.toString(),s=[],r=this.startHour;r<this.endHour;r++)s.push(r);var a=this.getAllDayItems(),o=this.getNonAllDayItems();null==this.draftItem||this.creatingDraft||o.push(this.draftItem);var h=this.sortIntoRows(o);null!=this.draftItem&&this.mouseMovedWhileCreating&&(h.push([this.draftItem]),o.push(this.draftItem));var l={top:(this.currentDate.getTime()-this.getDateFrom().getTime())/1e3/60/60/this.getAmountOfHours()*100+"%",display:this.currentDate>=this.getDateFrom()&&this.currentDate<=this.getDateTo()?"block":"none"},c="K2BT_CalendarDayItemsView";this.showhours||(c+=" K2BT_CalendarDayItemsNoMargin");var d="K2BT_CalendarDayViewContainer";return this.currentDate.getFullYear()===this.year&&this.currentDate.getMonth()===this.month&&this.currentDate.getDate()===this.day&&(d+=" K2BT_CalendarDayViewToday"),this.draftItem&&(d+=" K2BT_CalendarDayCreatingDraft"),e("div",{class:d},e("div",{class:"K2BT_CalendarDayViewHeader"},e("div",{class:"K2BT_CalendarDayViewDoW"},i),e("div",{class:"K2BT_CalendarDayViewDoM"},n)),e("div",{class:"K2BT_AlldayItems"},a.map((t=>this.getAllDayItemContents(t))),this.alldayrows?Array.from(Array(this.alldayrows-a.length).keys()).map((t=>e("div",{class:"K2BT_AlldayItem",style:{visibility:"hidden"}},"Hidden: "+t))):""),e("div",{class:"K2BT_CalendarDayContent"},e("div",{class:"K2BT_CalendarDayViewContainerBaseGrid",ref:t=>this.baseGridControl=t,onMouseDown:this.onMouseDown.bind(this),onMouseMove:this.onMouseMove.bind(this),onMouseUp:this.onMouseUp.bind(this)},s.map((t=>e("div",{class:"K2BT_CalendarDayHour"},this.showhours?e("div",{class:"K2BT_CalendarDayHourNumber"},t):"")))),e("div",{class:c},o.map((t=>this.getInDayItemContents(t,h)))),e("div",{class:"K2BT_CalendarDayHourMarker",style:l})))}getAllDayItemContents(t){var i,n,s=new Array("K2BT_AlldayItem");r.addItemClasses(s,t,this.currentDate);var a=null!==(i=this.calendars.filter((i=>i.id===t.calendarId))[0])&&void 0!==i?i:this.calendars[0];return e("div",{class:s.join(" "),onClick:()=>this.onItemClicked(t)},e("div",{class:"K2BT_AllDayItemDescription"},t.description),e("k2bt-calendar-action-menu",{actions:t.actions,onActionClicked:i=>{i.stopPropagation(),this.onActionClicked(t,i.detail)}}),e("div",{class:null!==(n="K2BT_CalendarBackground "+(null==a?void 0:a.class))&&void 0!==n?n:"K2BT_Calendar0"}))}getInDayItemContents(t,i){var n,s,a=(this.getBoundedDate(t.dateFrom).getTime()-this.getDateFrom().getTime())/1e3/60/60,o=(this.getBoundedDate(t.dateTo).getTime()-this.getBoundedDate(t.dateFrom).getTime())/1e3/60/60,h=i.filter((i=>-1!=i.indexOf(t)))[0],l={top:a/this.getAmountOfHours()*100+"%",height:o/this.getAmountOfHours()*100+"%",width:null,left:null};h.length>1&&(l.width="calc("+100/h.length+"% - 2px)",l.left=h.indexOf(t)*(100/h.length)+"%");var c=new Array("K2BT_CalendarDayItem");r.addItemClasses(c,t,this.currentDate);var d=null!==(n=this.calendars.filter((i=>i.id===t.calendarId))[0])&&void 0!==n?n:this.calendars[0];const f=u.formatItemDate(t.dateFrom)+"-"+u.formatItemDate(t.dateTo);return e("div",{class:c.join(" "),style:l,onClick:()=>this.onItemClicked(t),title:t.description+"\n"+f},e("div",{class:"K2BT_CalendarDayItemContent"},e("div",{class:"K2BT_CalendarDayItemText"},e("div",{class:"K2BT_CalendarDayItemHeader"},e("div",{class:"K2BT_CalendarDayItemDescription"},t.description)),e("div",{class:"K2BT_CalendarDayItemHourPeriod"},f)),e("k2bt-calendar-action-menu",{actions:t.actions,onActionClicked:i=>{i.stopPropagation(),this.onActionClicked(t,i.detail)}})),e("div",{class:null!==(s="K2BT_CalendarBackground "+(null==d?void 0:d.class))&&void 0!==s?s:"K2BT_Calendar0"}))}getNonAllDayItems(){return this.calendars.map((t=>t.items.filter((t=>!t.allDay&&r.isInDay(t,this.getDateFrom(),this.getDateTo()))).map((i=>(i.calendarId=t.id,i))))).reduce(((t,i)=>t.concat(i)),[])}getAllDayItems(){return this.calendars.map((t=>t.items.filter((t=>t.allDay&&r.allDayItemIsInDay(t,this.getDay()))).map((i=>(i.calendarId=t.id,i))))).reduce(((t,i)=>t.concat(i)),[])}componentDidLoad(){this.readonly&&document.addEventListener("mouseup",this.scopedfunction),this.intervalId=setInterval(function(){this.currentDate=new Date}.bind(this),6e5)}disconnectedCallback(){this.readonly&&document.removeEventListener("mouseup",this.scopedfunction),clearInterval(this.intervalId)}sortIntoRows(t){t=t.sort(((t,i)=>t.dateFrom.getTime()-i.dateFrom.getTime()));const i=[];for(const n of t){var e=!1;for(const t of i){for(const i of t)if(r.calendarItemsCollide(n,i)){e=!0;break}if(e){t.push(n);break}}e||i.push([n])}const n=[];for(let t of i)n.push(t.sort((t=>t.isDraft?1:-1)));return n}getDay(){return new Date(this.year,this.month,this.day,0,0,0,0)}},v=class{constructor(e){t(this,e),this.newDraftCreated=i(this,"newDraftCreated",7),this.draftCancelled=i(this,"draftCancelled",7),this.itemClicked=i(this,"itemClicked",7),this.fetchAppointmentsForPeriod=i(this,"fetchAppointmentsForPeriod",7),this.showheader=!0,this.showcalendarnavigation=!0,this.showperiodnavigation=!0,this.showviewselection=!0,this.showcalendarselection=!0,this.starthour=8,this.endhour=20,this.readonly=!0,this.todaycaption="Today",this.daycaption="Day",this.weekcaption="Week",this.workweekcaption="Work Week",this.monthcaption="Month",this.yearcaption="Year",this.seemorecaption="See more",this.itemsperdayinmonthview=5,this.dayviewenabled=!0,this.weekviewenabled=!0,this.workweekviewenabled=!0,this.monthviewenabled=!0,this.weekstartday=c.Sunday,this.calendars=[],this.selectedCalendars=null,this.advancedSelectorOpen=!1}setPeriodAppointments(t){null==this.selectedCalendars&&(this.selectedCalendars=t.calendars.map((t=>t.id))),this.clearAppointmentsInRange(t.dateFrom,t.dateTo),this.pruneFarawayItems(t.dateFrom,t.dateTo),this.mergeCalendars(t.calendars),this.assignCalendarMissingClasses(this.calendars),this.calendars=[].concat(this.calendars)}pruneFarawayItems(t,i){for(let e of this.calendars)e.items.length>v.MAX_STORED_ITEMS&&(e.items.sort(((e,n)=>this.getDistance(e,t,i)-this.getDistance(n,t,i))),e.items=e.items.slice(0,v.MAX_STORED_ITEMS))}getDistance(t,i,e){return Math.min(Math.abs(t.dateTo.getTime()-i.getTime()),Math.abs(t.dateFrom.getTime()-e.getTime()))}assignCalendarMissingClasses(t){for(var i=0;i<t.length;i++)t[i].class||(t[i].class="K2BT_Calendar"+i)}mergeCalendars(t){for(let e of t){var i=this.calendars.filter((t=>t.id==e.id));i.length>0?i[0].items=i[0].items.concat(e.items):this.calendars.push(e)}}clearAppointmentsInRange(t,i){var e=t,n=i;this.calendars=this.calendars.map((t=>({id:t.id,description:t.description,class:t.class,items:t.items.filter((t=>!u.datePeriodInBound(e,n,u.getDateAtMidnight(t.dateFrom),u.getDateAtMidnight(t.dateTo))))})))}componentWillLoad(){this.currentview=l.Week,this.goToToday()}render(){return e("div",{class:"K2BT_CalendarContainer"},this.getHeader(),e("div",{class:"K2BT_CalendarFullViewContent"},this.getCalendarFullViewContent()))}getHeader(){return this.showheader?e("div",{class:"K2BT_CalendarFullViewHeader"},this.getTodayButton(),this.getPreviousNextButtons(),this.getContextTitle(),this.getCalendarSelectionCombobox(),this.getPeriodSelectionCombobox()):""}componentDidRender(){}getCalendarFullViewContent(){switch(this.currentview){case l.Day:return e("k2bt-calendar-day-view",{year:this.dateFrom.getFullYear(),month:this.dateFrom.getMonth(),day:this.dateFrom.getDate(),startHour:this.starthour,endHour:this.endhour,readonly:this.readonly,calendars:this.filterSelectedCalendars(this.calendars),showhours:!0,alldayrows:0,ref:t=>this.dayView=t});case l.Week:case l.WorkWeek:return e("k2bt-calendar-period-view",{dateFrom:this.dateFrom,dateTo:this.dateTo,startHour:this.starthour,endHour:this.endhour,readonly:this.readonly,calendars:this.filterSelectedCalendars(this.calendars),ref:t=>this.weekView=t});case l.Month:return e("k2bt-calendar-month-view",{year:this.dateFrom.getFullYear(),month:this.dateFrom.getMonth()+1,readonly:this.readonly,calendars:this.filterSelectedCalendars(this.calendars),seemorecaption:this.seemorecaption,itemsperday:this.itemsperdayinmonthview,weekstartday:this.weekstartday,onDayClicked:t=>this.dayClicked(t.detail.date),ref:t=>this.monthView=t})}}filterSelectedCalendars(t){return t.filter((t=>-1!==this.selectedCalendars.indexOf(t.id)))}calendarSelectionChanged(){this.selectedCalendars=this.calendarCombo.value}getCalendarSelectionCombobox(){if(this.showcalendarselection){var t=this.getAvailableCalendars();if(t.length>1)return e("div",{class:"K2BT_CalendarCalendarSelectionCombobox"},e("k2bt-enhancedcombo",{onChange:()=>this.calendarSelectionChanged(),includesearch:!1,showselectionastags:!1,enableadditem:!1,includeemptyitem:!1,headermaxvisibleitems:1,values:t,value:this.selectedCalendars,maxSelectionSize:0,ref:t=>this.calendarCombo=t}))}return""}getAvailableCalendars(){return this.calendars.map((t=>({value:t.id,description:t.description,badgeClass:t.class})))}getPeriodSelectionCombobox(){if(this.showviewselection){var t=this.getAvailableContentViews();if(t.length>1){var i=[this.currentview];return e("div",{class:"K2BT_CalendarPeriodSelectionCombobox"},e("k2bt-enhancedcombo",{onChange:this.periodSelectionChanged.bind(this),includesearch:!1,enableadditem:!1,includeemptyitem:!1,values:t,value:i,ref:t=>this.periodCombo=t}))}}return""}getAvailableContentViews(){var t=[];return this.dayviewenabled&&t.push({value:l.Day,description:this.daycaption}),this.weekviewenabled&&t.push({value:l.Week,description:this.weekcaption}),this.workweekviewenabled&&t.push({value:l.WorkWeek,description:this.workweekcaption}),this.monthviewenabled&&t.push({value:l.Month,description:this.monthcaption}),t}getContextTitle(){return e("div",{class:"K2BT_CalendarHeaderTitle"},u.getMonthName(this.dateFrom.getMonth())+" "+this.dateFrom.getFullYear())}periodSelectionChanged(){this.switchView(l[a.getEnumKeyByEnumValue(l,this.periodCombo.value[0])])}switchView(t){this.currentview=t,this.goToDate(this.dateFrom)}cancelDraft(){var t;null===(t=this.dayView)||void 0===t||t.cancelDraft(),this.weekView&&this.weekView.cancelDraft()}getPreviousNextButtons(){return this.showperiodnavigation?e("div",{class:"K2BT_CalendarPeriodButtons"},e("div",{class:"K2BT_CalendarPreviousPeriodButton",onClick:this.goToPreviousPeriod.bind(this)}),e("div",{class:"K2BT_CalendarNextPeriodButton",onClick:this.goToNextPeriod.bind(this)})):""}goToNextPeriod(){var t=new Date(this.dateFrom.getTime());switch(this.currentview){case l.Day:t.setDate(t.getDate()+1);break;case l.Week:case l.WorkWeek:t.setDate(t.getDate()+7);break;case l.Month:t=new Date(t.getFullYear(),t.getMonth()+1,1)}this.goToDate(t)}goToPreviousPeriod(){var t=new Date(this.dateFrom.getTime());switch(this.currentview){case l.Day:t.setDate(t.getDate()-1);break;case l.Week:case l.WorkWeek:t.setDate(t.getDate()-7);break;case l.Month:t=new Date(t.getFullYear(),t.getMonth()-1,1)}this.goToDate(t)}closeMenu(t){this.advancedSelectorOpen&&this.quickDaySelectorContainer&&!this.quickDaySelectorContainer.contains(t.target)&&(this.advancedSelectorOpen=!1)}getTodayButton(){return this.showcalendarnavigation?e("div",{class:"K2B_CalendarQuickDaySelectorContainer",ref:t=>this.quickDaySelectorContainer=t},e("div",{class:"K2B_CalendarQuickDaySelector"},e("div",{class:"K2BT_CalendarTodayButton",onClick:this.goToToday.bind(this)},this.todaycaption),e("div",{class:"K2BT_CalendarAdvancedSelectorToggle",onClick:()=>this.advancedSelectorOpen=!this.advancedSelectorOpen})),this.getAdvancedSelectorContents()):""}getAdvancedSelectorContents(){return this.advancedSelectorOpen?e("div",{class:"K2BT_CalendarAdvancedSelectorContents"},e("k2bt-calendar-day-in-month-picker",{selectedDate:this.dateFrom,weekstartday:this.weekstartday,onDayClicked:t=>{this.advancedSelectorOpen=!1,this.goToDate(t.detail)}})):""}dayClicked(t){this.dayviewenabled&&(this.switchView(l.Day),this.goToDate(t))}goToToday(){this.goToDate(new Date)}goToDate(t){var i=this.dateFrom?new Date(this.dateFrom.getTime()):null,e=this.dateTo?new Date(this.dateTo.getTime()):null;switch(this.currentview){case l.Day:this.dateFrom=t,this.dateTo=t;break;case l.Week:var n=new Date(t.getTime());n.setDate(this.weekstartday===c.Sunday?n.getDate()-n.getDay():n.getDate()-n.getDay()+1),this.dateFrom=n,(n=new Date(t.getTime())).setDate(this.weekstartday===c.Sunday?n.getDate()-n.getDay()+7:n.getDate()-n.getDay()+8),this.dateTo=n;break;case l.WorkWeek:(n=new Date(t.getTime())).setDate(n.getDate()-n.getDay()+1),this.dateFrom=n,(n=new Date(t.getTime())).setDate(n.getDate()-n.getDay()+6),this.dateTo=n;break;case l.Month:this.dateFrom=new Date(t.getFullYear(),t.getMonth(),1),this.dateTo=new Date(t.getFullYear(),t.getMonth()+1,0)}i==this.dateFrom&&e==this.dateTo||this.fetchAppointmentsForPeriod.emit({dateFrom:this.dateFrom,dateTo:this.dateTo})}};v.MAX_STORED_ITEMS=300;const p=class{constructor(e){t(this,e),this.dayClicked=i(this,"dayClicked",7),this.itemClicked=i(this,"itemClicked",7),this.actionClicked=i(this,"actionClicked",7),this.readonly=!0,this.calendars=[],this.seemorecaption="See all",this.itemsperday=5,this.weekstartday=c.Sunday,this.currentDate=new Date,this.intervalId=null}onItemClicked(t){this.itemClicked.emit({item:t})}onActionClicked(t,i){this.actionClicked.emit({item:t,action:i})}render(){var t=u.getWeeksOfMonth(this.year,this.month,this.weekstartday);const i=new Date(this.year,this.month-1,1),n=new Date(this.year,this.month,0);return e("div",{class:"K2BT_CalendarMonthView"},e("div",{class:"K2BT_CalendarMonthDayNames"},t[0].map((t=>t.getDay())).map((t=>e("div",{class:"K2BT_CalendarMonthViewDayName"},u.getDayOfWeekShortStringFromDayNumber(t))))),t.map((t=>e("div",{class:"K2BT_CalendarMonthViewWeek"},t.map((t=>{var s=t.getFullYear(),a=t.getMonth(),o=t.getDate(),h=this.getFilteredAppointments(s,a,o),l=this.itemsperday>0?h.slice(0,this.itemsperday):h,c=this.getClassesForDayContainer(t,i,n),d=this.getClassesForNumberContainer(s,a,o);return l.sort(((t,i)=>t.dateFrom.getTime()-i.dateFrom.getTime())),e("div",{class:c,onClick:()=>this.onDayClicked(t)},e("div",{class:"K2BT_CalendarMonthDayComponent"},e("div",{class:d},t.getDate()),e("div",{class:"K2BT_CalendarMonthViewDayAppointmentList"},l.map((t=>{var i,n=null!==(i=this.calendars.filter((i=>i.id===t.calendarId))[0])&&void 0!==i?i:this.calendars[0],s=new Array("K2BT_CalendarMonthViewDayAppointmentBadge");s.push(n.class),r.addItemClasses(s,t,this.currentDate);const a=t.allDay?"":u.formatItemDate(t.dateFrom)+"-"+u.formatItemDate(t.dateTo);return e("div",{class:"K2BT_CalendarMonthViewDayAppointment",onClick:i=>{i.stopPropagation(),this.onItemClicked(t)},title:t.description+"\n"+a},e("div",{class:s.join(" ")}),e("div",{class:"K2BT_CalendarMonthViewDayAppointmentPeriod"},a),e("div",{class:"K2BT_CalendarMonthViewDayAppointmentDescription"},t.description),e("k2bt-calendar-action-menu",{actions:t.actions,onActionClicked:i=>this.onActionClicked(t,i.detail)}))})),l.length<h.length?e("div",{class:"K2BT_CalendarMonthViewDaySeeMore"},this.seemorecaption):"")))}))))))}getClassesForNumberContainer(t,i,e){var n="K2BT_CalendarMonthViewDayNumber";return this.currentDate.getFullYear()===t&&this.currentDate.getMonth()===i&&this.currentDate.getDate()===e&&(n+=" K2BT_CalendarDayViewToday"),n}getClassesForDayContainer(t,i,e){var n="K2BT_CalendarMonthViewDay";return t>=i&&t<=e||(n+=" K2BT_CalendarMonthViewDayOtherMonth"),t<new Date(this.currentDate.getFullYear(),this.currentDate.getMonth(),this.currentDate.getDate())&&(n+=" K2BT_CalendarMonthViewDayPast"),n}getFilteredAppointments(t,i,e){return this.calendars.map((n=>n.items.filter((n=>n.dateFrom.getFullYear()==t&&n.dateFrom.getMonth()==i&&n.dateFrom.getDate()==e||n.dateTo.getFullYear()==t&&n.dateTo.getMonth()==i&&n.dateTo.getDate()==e)).map((t=>(t.calendarId=n.id,t))))).reduce(((t,i)=>t.concat(i)),[])}componentDidLoad(){this.intervalId=setInterval(function(){this.currentDate=new Date}.bind(this),6e5)}disconnectedCallback(){clearInterval(this.intervalId)}onDayClicked(t){this.dayClicked.emit({date:t})}},m=class{constructor(e){t(this,e),this.newDraftCreated=i(this,"newDraftCreated",7),this.draftCanceled=i(this,"draftCanceled",7),this.itemClicked=i(this,"itemClicked",7),this.calendars=[],this.readonly=!0,this.draftItemDescription="(no title)",this.draftItem=null,this.dayComponents=[]}onDayViewDraftCancelled(){}async onCreatingNewDraft(t){for(let i of this.dayComponents)t.target!=i&&await i.cancelDraft()}async cancelDraft(){for(let t of this.dayComponents)await t.cancelDraft()}render(){for(var t=[],i=new Date(this.dateFrom.getTime());i<this.dateTo;)t.push({year:i.getFullYear(),month:i.getMonth(),day:i.getDate()}),i.setDate(i.getDate()+1);this.dayComponents=[];var n=Math.max(...t.map((t=>new Date(t.year,t.month,t.day,0,0,0,0))).map((t=>this.calendars.map((i=>i.items.filter((i=>i.allDay&&r.allDayItemIsInDay(i,t))))).reduce(((t,i)=>t.concat(i)),[]).length))),s=!0;return e("div",{class:"K2BT_CalendarPeriod"},t.map((t=>{var i=s;return s=!1,e("div",{class:"K2BT_CalendarPeriodDayContainer"},e("k2bt-calendar-day-view",{year:t.year,month:t.month,day:t.day,startHour:this.startHour,endHour:this.endHour,readonly:this.readonly,calendars:this.calendars,showhours:i,ref:t=>this.dayComponents.push(t),alldayrows:n,onDraftCancelled:this.onDayViewDraftCancelled.bind(this),onCreatingNewDraft:this.onCreatingNewDraft.bind(this)}))})))}},b=class{constructor(e){t(this,e),this.inputEvent=i(this,"input",7),this.changeEvent=i(this,"change",7),this.value=[],this.maxSelectionSize=0,this.datatype=b.DATATYPE_CHARACTER,this.length=10,this.integers=5,this.decimals=2,this.enabled=!0,this.inputclass="",this.readonlyclass="",this.invitemessage="",this.itemInputs=[],this._triggerChangeDebouncer=null}removeItem(t){this.value=this.value.filter(((i,e)=>e!=t)),this.triggerChangeEvent()}onInput(t,i){t==this.value.length&&""!==this.itemInputs[t].value&&(this.value=this.value.concat([""])),this.value[t]=this.itemInputs[t].value,i.stopPropagation(),this.inputEvent.emit(null)}triggerChangeEvent(){null!=this._triggerChangeDebouncer&&clearTimeout(this._triggerChangeDebouncer),this._triggerChangeDebouncer=setTimeout((()=>{this.changeEvent.emit(null)}),200)}render(){this.itemInputs=[];var t={},i=0;this.datatype==b.DATATYPE_NUMERIC?(t.textAlign="right",i=this.integers+this.decimals+(this.decimals>0?1:0)):i=this.length,t.width=i+"ch";const s=0==this.maxSelectionSize||this.value.length<this.maxSelectionSize?this.value.concat([""]):this.value;return e(n,null,e("div",{class:"K2BT_EditCollection",style:this.enabled?{display:"none"}:{}},this.enabled?"":this.value.map((t=>e("div",{class:"K2BT_EditCollectionItem"},e("p",{class:"form-control-static"},e("span",{class:this.readonlyclass,"data-gx-readonly":""},t)))))),e("div",{class:"K2BT_EditCollection",style:this.enabled?{}:{display:"none"}},s.map(((n,s)=>e("div",{class:"K2BT_EditCollectionItem"},e("input",{class:"form-control K2BT_EditCollectionItemInput "+this.inputclass,type:"text",value:n,style:t,maxLength:i,onInput:t=>this.onInput(s,t),ref:t=>this.itemInputs[s]=t,onChange:()=>this.triggerChangeEvent(),placeholder:this.invitemessage}),e("span",{class:"K2BT_EditCollectionItemDelete",onClick:()=>this.removeItem(s)}))))))}};b.DATATYPE_CHARACTER="CHAR",b.DATATYPE_NUMERIC="NUMERIC",b.style=":host{display:block}.K2BT_EditCollectionItemDelete::after{cursor:pointer}";const y=class{constructor(e){t(this,e),this.selectionErrorEvent=i(this,"selectionError",7),this.focusEvent=i(this,"focus",7),this.inputEvent=i(this,"input",7),this.changeEvent=i(this,"change",7),this.searchChangedEvent=i(this,"searchChanged",7),this.newRecordClickedEvent=i(this,"newRecordClicked",7),this.value=null,this.includesearch=!0,this.includeemptyitem=!0,this.emptyitemtext="(none)",this.noresultsfoundtext="No results found",this.enableadditem=!0,this.additemcaption="New record",this.clearselectioncaption="Clear selection",this.selectallcaption="Clear selection",this.searchfieldplaceholder="Search",this.searchvalue="",this.enabled=!0,this.maxSelectionSize=1,this.headermaxvisibleitems=3,this.readonlyclass="",this.showselectionastags=!1,this.showiconsintags=!0,this.displayaslist=!1,this.enableclearselectionaction=!1,this.enableselectallaction=!1,this.activeElementValue=null,this.container=null,this.selectedElement=null,this.searchfield=null,this.listContainer=null,this._keyboardSearchPrefix="",this._keyboardSearchLastKeystroke=null}isCollection(){return 1!=this.maxSelectionSize}processKeydown(t){"Escape"==t.key?(this.resetPrefixSearch(),this.open=!1,t.stopPropagation()):"Enter"==t.key?(this.resetPrefixSearch(),this.open=!this.open,t.stopPropagation()):this.isCollection()?this.processKeydownForCollection(t):this.processKeydownSingleSelection(t)}processKeydownForCollection(t){var i;this.open&&("ArrowDown"==t.key?this.processArrowDownForCollection(t,i):"ArrowUp"==t.key?this.processArrowUpForCollection(t,i):" "===t.key||"Spacebar"===t.key?this.processSpacebarForCollection(t):this.processCharacterForCollection(t))}processCharacterForCollection(t){var i=t.key;if(1==i.length&&document.activeElement!=this.searchfield){var e=Date.now();(null==this._keyboardSearchLastKeystroke||e-this._keyboardSearchLastKeystroke>3e3)&&(this._keyboardSearchPrefix=""),this._keyboardSearchPrefix=this._keyboardSearchPrefix+i;var n=o.getAtomicValues_impl(this.getFilteredValues()).find((t=>0==t.description.toLowerCase().indexOf(this._keyboardSearchPrefix.toLowerCase())));null!=n&&(this.activeElementValue=n.value.trim()),this._keyboardSearchLastKeystroke=e}}processSpacebarForCollection(t){var i;""!==(null!==(i=this.activeElementValue)&&void 0!==i?i:"")&&(this.setValueWithoutClosing(this.activeElementValue,!1),t.stopPropagation(),t.preventDefault())}processArrowUpForCollection(t,i){this.resetPrefixSearch(),t.stopPropagation(),t.preventDefault();var e=o.getAtomicValues_impl(this.getFilteredValues());e.length>0&&(i=e.findIndex((t=>t.value.trim()==this.activeElementValue)),this.activeElementValue=e[i=-1==i?e.length-1:((i-1)%e.length+e.length)%e.length].value.trim())}processArrowDownForCollection(t,i){this.resetPrefixSearch(),t.stopPropagation(),t.preventDefault();var e=o.getAtomicValues_impl(this.getFilteredValues());e.length>0&&(i=e.findIndex((t=>t.value.trim()==this.activeElementValue)),this.activeElementValue=e[i=-1==i?0:((i+1)%e.length+e.length)%e.length].value.trim())}processKeydownSingleSelection(t){"ArrowDown"==t.key?this.processArrowDownForSingleSelection(t):"ArrowUp"==t.key?this.processArrowUpForSingleSelection(t):this.processCharacterForSingleSelection(t)}processCharacterForSingleSelection(t){var i=t.key;if(1==i.length&&document.activeElement!=this.searchfield){var e=Date.now();(null==this._keyboardSearchLastKeystroke||e-this._keyboardSearchLastKeystroke>3e3)&&(this._keyboardSearchPrefix=""),this._keyboardSearchPrefix=this._keyboardSearchPrefix+i;var n=o.getAtomicValues_impl(this.getFilteredValues()).find((t=>0==t.description.toLowerCase().indexOf(this._keyboardSearchPrefix.toLowerCase())));null!=n&&this.setValueWithoutClosing(n.value.trim(),!1),this._keyboardSearchLastKeystroke=e}}processArrowUpForSingleSelection(t){this.resetPrefixSearch(),t.stopPropagation(),t.preventDefault();var i=o.getAtomicValues_impl(this.getFilteredValues());if(i.length>0){var e=i.findIndex((t=>t.value.trim()==this.value[0].trim()));this.setValueWithoutClosing(-1==e?i[i.length-1].value.trim():i[e=((e-1)%i.length+i.length)%i.length].value.trim(),!1)}}processArrowDownForSingleSelection(t){this.resetPrefixSearch(),t.stopPropagation(),t.preventDefault();var i=o.getAtomicValues_impl(this.getFilteredValues());if(i.length>0){var e=i.findIndex((t=>t.value.trim()==this.value[0].trim()));this.setValueWithoutClosing(-1==e?i[0].value.trim():i[e=((e+1)%i.length+i.length)%i.length].value.trim(),!1)}}onFocusIn(){this.resetPrefixSearch(),this.focusEvent.emit()}resetPrefixSearch(){this._keyboardSearchLastKeystroke=null}closeMenu(t){this.resetPrefixSearch(),this.open&&this.container&&!this.container.contains(t.target)&&(this.open=!1)}getHeaderContent(){if(null==this.value)return this.emptyitemtext;var t=this.getAtomicValues().filter((t=>this.valueIsSelected(t)));return t.length>0?this.isCollection()&&this.showselectionastags?this.getHeaderTagsContent(t):t.length>this.headermaxvisibleitems?[t.slice(0,this.headermaxvisibleitems).map((t=>this.getSelectedItemSpan(t))).reduce(((t,i)=>[t,e("span",null,", "),i])),e("span",null," (+",t.length-this.headermaxvisibleitems,")")]:t.map((t=>this.getSelectedItemSpan(t))).reduce(((t,i)=>[t,e("span",null,", "),i])):this.emptyitemtext}getSelectedItemSpan(t){return e("span",{class:"K2BT_EnhancedControlInfoSelectedValue"},t.description)}getReadonlyContent(){if(null==this.value)return this.emptyitemtext;var t=this.getAtomicValues().filter((t=>this.valueIsSelected(t)));return t.length>0?t.map((t=>t.description)).join(", "):this.emptyitemtext}getHeaderTagsContent(t){var i=o.containsIcons(this.getAtomicValues());return t.map((t=>e("div",{class:"K2BT_EnhancedComboHeaderTag"},this.showiconsintags&&i&&""!==t.imageUrl?e("img",{class:"K2BT_EnhancedComboTagIcon",src:t.imageUrl}):"",e("span",{class:"K2BT_EnhancedComboHeaderTagDescription"},t.description),e("span",{class:"K2BT_EnhancedComboHeaderTagDelete",onClick:i=>{i.cancelBubble=!0,this.setValueWithoutClosing(t.value,!1)}}))))}valueIsSelected(t){return this.value.filter((i=>t.value.trim()==i.toString().trim())).length>0}toggleContentVisibilty(){this.resetPrefixSearch(),this.open=!this.open}getRawValues(){var t;return t=null==this.values?[]:"string"==typeof this.values?""==this.values?[]:JSON.parse(this.values):[...this.values],this.includeemptyitem&&!this.isCollection()&&t.unshift({value:"",description:this.emptyitemtext,imageUrl:"",detail:"",trailingText:"",badgeClass:"",items:[]}),t}getFilteredValues(){var t=this.getRawValues();return this.includesearch&&""!=this.searchvalue&&(t=this.getFilteredValues_impl(t)),t}getFilteredValues_impl(t){var i=[];if(null!=t)for(let s of t)if(-1!=s.description.toLocaleLowerCase().indexOf(this.searchvalue.toLocaleLowerCase())||-1!=s.detail.toLocaleLowerCase().indexOf(this.searchvalue.toLocaleLowerCase())||-1!=s.trailingText.toLocaleLowerCase().indexOf(this.searchvalue.toLocaleLowerCase()))i=i.concat(s);else{var e=this.getFilteredValues_impl(s.items);if(e.length>0){var n=Object.assign({},s);n.items=e,i=i.concat(n)}}return i}setValue(t){this.setValueWithoutClosing(t,!0),this.open=!1}setValueWithoutClosing(t,i){this.isCollection()?0===this.value.filter((i=>i.toString().trim()===t.toString().trim())).length?this.selectionIsFull()?(this.errorCode=y.ERROR_SELECTION_FULL,this.selectionErrorEvent.emit({})):this.value=this.value.concat([t]):this.value=this.value.filter((i=>i.toString().trim()!==t.toString().trim())):this.value=[t],this.setValueDebouncer&&(clearTimeout(this.setValueDebouncer),this.setValueDebouncer=null),i?this.emitChangedEvents(t):this.setValueDebouncer=setTimeout((()=>{this.setValueDebouncer=null,this.emitChangedEvents(t)}).bind(this),200)}emitChangedEvents(t){this.inputEvent.emit(),this.changeEvent.emit(t)}changeSearchValue(t){this.searchvalue=t,this.searchChangedEvent.emit({value:t})}onIncludeNewRecordClick(){this.open=!1,this.newRecordClickedEvent.emit(null)}render(){this.selectedElement=null;var t;return t=this.displayaslist?"K2BTEnhancedListContents":this.open?"K2BTEnhancedComboContentsOpen":"K2BTEnhancedComboContentsClosed",e("div",null,e("p",{class:"form-control-static",style:this.enabled?{display:"none"}:{}},e("span",{class:this.readonlyclass,"data-gx-readonly":""},this.getReadonlyContent())),e("div",{tabindex:"0",class:"K2BTEnhancedCombo",ref:t=>this.container=t,style:this.enabled?{}:{display:"none"}},this.addHeaderIfNecessary(),e("div",{class:t,ref:t=>this.listContainer=t},this.includesearch?e("input",{type:"text",class:"form-control K2BTEnhancedComboSearchInput",ref:t=>this.searchfield=t,onInput:t=>{this.changeSearchValue(t.target.value),t.stopPropagation()},onChange:t=>t.stopPropagation(),placeholder:this.searchfieldplaceholder}):"",this.getCollectionActionsHeader(),e("div",{class:"K2BTEnhancedComboItems"},this.getComboContent()),this.enableadditem?e("span",{class:"K2BTEnhancedComboNewAction",onClick:()=>this.onIncludeNewRecordClick()},this.additemcaption):"")))}getCollectionActionsHeader(){return this.enableselectallaction||this.enableclearselectionaction?e("div",{class:"K2BT_EnhancedComboCollectionActions"},this.getClearSelectionAction(),this.getSelectAllAction()):""}getSelectAllAction(){return this.enableselectallaction?e("span",{class:"K2BT_EnhancedComboSelectAll",onClick:()=>this.onSelectAllClick()},this.selectallcaption):""}getClearSelectionAction(){return this.enableclearselectionaction?e("span",{class:"K2BT_EnhancedComboSelectNone",onClick:()=>this.onClearSelectionClick()},this.clearselectioncaption):""}onClearSelectionClick(){this.value=[],this.emitChangedEvents(this.value)}onSelectAllClick(){this.value=this.getAtomicValues().map((t=>t.value)),this.emitChangedEvents(this.value)}addHeaderIfNecessary(){return this.displayaslist?"":e("div",{class:"K2BTEnhancedComboHeader",onClick:()=>this.toggleContentVisibilty()},e("div",{class:"K2BTHeaderContent"},this.getHeaderContent()))}getAtomicValues(){return o.getAtomicValues_impl(this.getRawValues())}getComboContent(){const t=o.getAtomicValues_impl(this.getRawValues());var i=o.containsDetails(t),n=o.containsIcons(t),s=o.containsTrailingText(t),r=o.containsBadges(t);const a=this.open||this.displayaslist?this.getFilteredValues():[];return a.length>0?a.map((t=>this.getItemContent(t,i,n,s,r))):e("div",{class:"K2BTEnhancedComboNoItemsFound"},this.noresultsfoundtext)}onImageError(t){t.target.classList.add("K2BTEnhancedComboIconInvisible")}getItemContent(t,i,e,n,s){var r;return(null===(r=t.items)||void 0===r?void 0:r.length)>0?this.getCategoryContent(t,i,e,n,s):this.getAtomicItemContent(t,e,n,i,s)}getAtomicItemContent(t,i,n,s,r){var a="K2BTEnhancedComboItem";return this.valueIsSelected(t)?a+=" K2BTEnhancedComboSelected":this.selectionIsFull()&&(a+=" K2BTEnhancedComboDisabled"),this.activeElementValue===t.value&&(a+=" K2BTEnhancedComboActive"),e("div",{class:a,ref:i=>{(!this.isCollection()&&this.valueIsSelected(t)||this.isCollection()&&this.activeElementValue===t.value)&&(this.selectedElement=i)},onClick:()=>{this.isCollection()?this.setValueWithoutClosing(t.value.trim(),!0):this.setValue(t.value.trim())}},this.addCheckboxIfNecessary(t),this.addIconIfNecessary(i,t),this.addBadgeIfNecessary(r,t),this.addMainItemContent(t,n,s))}addMainItemContent(t,i,n){return e("div",{class:"K2BTEnhancedComboItem_TextColumn"},e("div",{class:"K2BTEnhancedComboItem_TextContainer"},e("span",{class:"K2BTEnhancedComboDescription"},this.getHighlightedText(t.description)),i?e("span",{class:"K2BTEnhancedComboTrailingText"},this.getHighlightedText(t.trailingText)):""),e("div",{class:"K2BTEnhancedComboItem_TextContainer"},n?e("span",{class:"K2BTEnhancedComboSubtitle"},this.getHighlightedText(t.detail)):""))}addBadgeIfNecessary(t,i){return t?e("div",{class:"K2BTEnhancedComboBadge "+i.badgeClass}):""}addIconIfNecessary(t,i){return t?e("div",{class:"K2BTEnhancedComboIconContainer"},e("img",{class:""===i.imageUrl?"K2BTEnhancedComboIcon K2BTEnhancedComboIconInvisible":"K2BTEnhancedComboIcon",src:i.imageUrl,onError:t=>this.onImageError(t)})):""}addCheckboxIfNecessary(t){return this.isCollection()?e("div",{class:"K2BT_EnhancedComboCheckbox"},e("input",{type:"checkbox",checked:this.valueIsSelected(t),tabIndex:-1,disabled:this.selectionIsFull()&&!this.valueIsSelected(t)}),e("label",{htmlFor:"","data-gx-sr-only":""}," ")):""}getCategoryContent(t,i,n,s,r){return e("div",{class:"K2BTEnhancedComboCategory"},e("span",{class:"K2BTEnhancedComboCategoryName"},t.description),e("div",{class:"K2BTEnchancedComboCategoryContents"},t.items.map((t=>this.getItemContent(t,i,n,s,r)))))}selectionIsFull(){return this.isCollection()&&0!=this.maxSelectionSize&&this.maxSelectionSize<=this.value.length}getHighlightedText(t){var i=t.toLowerCase().indexOf(this.searchvalue.toLowerCase());return null==this.searchvalue||""==this.searchvalue||-1==i?e("span",null,t):e("span",null,t.substring(0,i),e("span",{class:"K2BTEnhancedComboSearchHighlight"},t.substring(i,i+this.searchvalue.length)),this.getHighlightedText(t.substring(i+this.searchvalue.length)))}componentDidRender(){null!=this.selectedElement&&this.selectedElement.scrollIntoView({block:"nearest"}),this.listContainer.style.right=this.listContainer.getBoundingClientRect().right+this.listContainer.getBoundingClientRect().width>window.innerWidth?"0px":null}componentDidLoad(){var t=this.getAtomicValues();this.isCollection()||this.includeemptyitem||0!=t.filter((t=>this.valueIsSelected(t))).length||t.length>0&&this.setValueWithoutClosing(t[0].value.trim(),!0)}};function g(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var C;y.ERROR_SELECTION_FULL="SELECTION_FULL",y.style=":host{display:block}k2bt-enhancedcombo:focus-visible{outline:none}.K2BTEnhancedComboContentsOpen{display:flex;flex-direction:column;position:absolute}.K2BTEnhancedComboItems{max-height:300px;overflow:auto;scrollbar-width:thin;scrollbar-color:#d7d7d7 transparent}.K2BTEnhancedComboItems::-webkit-scrollbar{width:6px}.K2BTEnhancedComboItems::-webkit-scrollbar-thumb{background-color:#d7d7d7;border:1px solid transparent;cursor:pointer}.K2BTEnhancedComboContentsClosed{display:none}.K2BTEnhancedComboItem{display:flex;flex-direction:row;align-items:center}.K2BTEnhancedComboItem:hover{cursor:pointer}.K2BTEnhancedComboItem_TextContainer{display:flex;flex-grow:1}.K2BTEnhancedComboSubtitle{font-size:12px}.K2BTEnhancedComboIcon{width:30px;height:30px;object-fit:cover;margin-right:4px}.K2BTEnhancedComboIconInvisible{visibility:hidden}.K2BTEnhancedComboNoItemsFound{width:100%;text-align:center;margin-top:40px;margin-bottom:40px}.K2BTEnhancedComboTrailingText{flex-grow:0}.K2BT_EnhancedComboCheckbox{margin-right:8px;margin-top:6px;pointer-events:none}.K2BTEnhancedComboDisabled{cursor:normal;opacity:0.8}";const w=g((function(t){
/*!
 * dist/inputmask
 * https://github.com/RobinHerbots/Inputmask
 * Copyright (c) 2010 - 2021 Robin Herbots
 * Licensed under the MIT license
 * Version: 5.0.7
 */
self,t.exports=function(){var t={8741:function(t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=!("undefined"==typeof window||!window.document||!window.document.createElement);i.default=e},3976:function(t,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n,s=(n=e(5581))&&n.__esModule?n:{default:n},r={_maxTestPos:500,placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:function(){},onincomplete:function(){},oncleared:function(){},repeat:0,greedy:!1,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,insertModeVisual:!0,clearIncomplete:!1,alias:null,onKeyDown:function(){},onBeforeMask:null,onBeforePaste:function(t,i){return"function"==typeof i.onBeforeMask?i.onBeforeMask.call(this,t,i):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:function(){},skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",_radixDance:!1,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","url","password","search"],ignorables:[s.default.BACKSPACE,s.default.TAB,s.default["PAUSE/BREAK"],s.default.ESCAPE,s.default.PAGE_UP,s.default.PAGE_DOWN,s.default.END,s.default.HOME,s.default.LEFT,s.default.UP,s.default.RIGHT,s.default.DOWN,s.default.INSERT,s.default.DELETE,93,112,113,114,115,116,117,118,119,120,121,122,123,0,229],isComplete:null,preValidation:null,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"text",importDataAttributes:!0,shiftPositions:!0,usePrototypeDefinitions:!0,validationEventTimeOut:3e3,substitutes:{}};i.default=r},7392:function(t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default={9:{validator:"[0-9０-９]",definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",definitionSymbol:"*"},"*":{validator:"[0-9０-９A-Za-zА-яЁёÀ-ÿµ]"}}},253:function(t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t,i,e){if(void 0===e)return t.__data?t.__data[i]:null;t.__data=t.__data||{},t.__data[i]=e}},3776:function(t,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.Event=void 0,i.off=function(t,i){var e,n;function s(t,i,s){if(t in e==1)if(n.removeEventListener?n.removeEventListener(t,s,!1):n.detachEvent&&n.detachEvent("on"+t,s),"global"===i)for(var r in e[t])e[t][r].splice(e[t][r].indexOf(s),1);else e[t][i].splice(e[t][i].indexOf(s),1)}function r(t,n){var s,r,a=[];if(t.length>0)if(void 0===i)for(s=0,r=e[t][n].length;s<r;s++)a.push({ev:t,namespace:n&&n.length>0?n:"global",handler:e[t][n][s]});else a.push({ev:t,namespace:n&&n.length>0?n:"global",handler:i});else if(n.length>0)for(var o in e)for(var h in e[o])if(h===n)if(void 0===i)for(s=0,r=e[o][h].length;s<r;s++)a.push({ev:o,namespace:h,handler:e[o][h][s]});else a.push({ev:o,namespace:h,handler:i});return a}if(u(this[0])&&t){e=this[0].eventRegistry,n=this[0];for(var a=t.split(" "),o=0;o<a.length;o++)for(var h=a[o].split("."),l=r(h[0],h[1]),c=0,d=l.length;c<d;c++)s(l[c].ev,l[c].namespace,l[c].handler)}return this},i.on=function(t,i){function e(t,e){s.addEventListener?s.addEventListener(t,i,!1):s.attachEvent&&s.attachEvent("on"+t,i),n[t]=n[t]||{},n[t][e]=n[t][e]||[],n[t][e].push(i)}if(u(this[0]))for(var n=this[0].eventRegistry,s=this[0],r=t.split(" "),a=0;a<r.length;a++){var o=r[a].split(".");e(o[0],o[1]||"global")}return this},i.trigger=function(t){if(u(this[0]))for(var i=this[0].eventRegistry,e=this[0],n="string"==typeof t?t.split(" "):[t.type],r=0;r<n.length;r++){var o=n[r].split("."),h=o[0],l=o[1]||"global";if(void 0!==document&&"global"===l){var c,d,f={bubbles:!0,cancelable:!0,detail:arguments[1]};if(document.createEvent){try{"input"===h?(f.inputType="insertText",c=new InputEvent(h,f)):c=new CustomEvent(h,f)}catch(t){(c=document.createEvent("CustomEvent")).initCustomEvent(h,f.bubbles,f.cancelable,f.detail)}t.type&&(0,s.default)(c,t),e.dispatchEvent(c)}else(c=document.createEventObject()).eventType=h,c.detail=arguments[1],t.type&&(0,s.default)(c,t),e.fireEvent("on"+c.eventType,c)}else if(void 0!==i[h])if(arguments[0]=arguments[0].type?arguments[0]:a.default.Event(arguments[0]),arguments[0].detail=arguments.slice(1),"global"===l)for(var v in i[h])for(d=0;d<i[h][v].length;d++)i[h][v][d].apply(e,arguments);else for(d=0;d<i[h][l].length;d++)i[h][l][d].apply(e,arguments)}return this};var n,s=h(e(600)),r=h(e(9380)),a=h(e(4963)),o=h(e(8741));function h(t){return t&&t.__esModule?t:{default:t}}function u(t){return t instanceof Element}i.Event=n,"function"==typeof r.default.CustomEvent?i.Event=n=r.default.CustomEvent:o.default&&(i.Event=n=function(t,i){i=i||{bubbles:!1,cancelable:!1,detail:void 0};var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,i.bubbles,i.cancelable,i.detail),e},n.prototype=r.default.Event.prototype)},600:function(t,i){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=function t(){var i,n,s,r,a,o,h=arguments[0]||{},u=1,l=arguments.length,c=!1;for("boolean"==typeof h&&(c=h,h=arguments[u]||{},u++),"object"!==e(h)&&"function"!=typeof h&&(h={});u<l;u++)if(null!=(i=arguments[u]))for(n in i)s=h[n],h!==(r=i[n])&&(c&&r&&("[object Object]"===Object.prototype.toString.call(r)||(a=Array.isArray(r)))?(a?(a=!1,o=s&&Array.isArray(s)?s:[]):o=s&&"[object Object]"===Object.prototype.toString.call(s)?s:{},h[n]=t(c,o,r)):void 0!==r&&(h[n]=r));return h}},4963:function(t,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=o(e(600)),s=o(e(9380)),r=o(e(253)),a=e(3776);function o(t){return t&&t.__esModule?t:{default:t}}var h=s.default.document;function u(t){return t instanceof u?t:this instanceof u?void(null!=t&&t!==s.default&&(this[0]=t.nodeName?t:void 0!==t[0]&&t[0].nodeName?t[0]:h.querySelector(t),null!=this[0]&&(this[0].eventRegistry=this[0].eventRegistry||{}))):new u(t)}u.prototype={on:a.on,off:a.off,trigger:a.trigger},u.extend=n.default,u.data=r.default,u.Event=a.Event,i.default=u},9845:function(t,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.ua=i.mobile=i.iphone=i.iemobile=i.ie=void 0;var n,s=(n=e(9380))&&n.__esModule?n:{default:n},r=s.default.navigator&&s.default.navigator.userAgent||"",a=r.indexOf("MSIE ")>0||r.indexOf("Trident/")>0,o="ontouchstart"in s.default,h=/iemobile/i.test(r),u=/iphone/i.test(r)&&!h;i.iphone=u,i.iemobile=h,i.mobile=o,i.ie=a,i.ua=r},7184:function(t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t){return t.replace(e,"\\$1")};var e=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim")},6030:function(t,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.EventHandlers=void 0;var n,s=e(8711),r=(n=e(5581))&&n.__esModule?n:{default:n},a=e(9845),o=e(7215),h=e(7760),u=e(4713);function l(t,i){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,i){if(t){if("string"==typeof t)return c(t,i);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?c(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length){e&&(t=e);var n=0,s=function(){};return{s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,o=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return a=t.done,t},e:function(t){o=!0,r=t},f:function(){try{a||null==e.return||e.return()}finally{if(o)throw r}}}}function c(t,i){(null==i||i>t.length)&&(i=t.length);for(var e=0,n=new Array(i);e<i;e++)n[e]=t[e];return n}var d={keydownEvent:function(t){var i=this.inputmask,e=i.opts,n=i.maskset,l=this,c=(0,i.dependencyLib)(l),d=t.keyCode,f=s.caret.call(i,l),v=e.onKeyDown.call(this,t,s.getBuffer.call(i),f,e);if(void 0!==v)return v;if(d===r.default.BACKSPACE||d===r.default.DELETE||a.iphone&&d===r.default.BACKSPACE_SAFARI||t.ctrlKey&&d===r.default.X&&!("oncut"in l))t.preventDefault(),o.handleRemove.call(i,l,d,f),(0,h.writeBuffer)(l,s.getBuffer.call(i,!0),n.p,t,l.inputmask._valueGet()!==s.getBuffer.call(i).join(""));else if(d===r.default.END||d===r.default.PAGE_DOWN){t.preventDefault();var p=s.seekNext.call(i,s.getLastValidPosition.call(i));s.caret.call(i,l,t.shiftKey?f.begin:p,p,!0)}else d===r.default.HOME&&!t.shiftKey||d===r.default.PAGE_UP?(t.preventDefault(),s.caret.call(i,l,0,t.shiftKey?f.begin:0,!0)):e.undoOnEscape&&d===r.default.ESCAPE&&!0!==t.altKey?((0,h.checkVal)(l,!0,!1,i.undoValue.split("")),c.trigger("click")):d!==r.default.INSERT||t.shiftKey||t.ctrlKey||void 0!==i.userOptions.insertMode?!0===e.tabThrough&&d===r.default.TAB?!0===t.shiftKey?(f.end=s.seekPrevious.call(i,f.end,!0),!0===u.getTest.call(i,f.end-1).match.static&&f.end--,f.begin=s.seekPrevious.call(i,f.end,!0),f.begin>=0&&f.end>0&&(t.preventDefault(),s.caret.call(i,l,f.begin,f.end))):(f.begin=s.seekNext.call(i,f.begin,!0),f.end=s.seekNext.call(i,f.begin,!0),f.end<n.maskLength&&f.end--,f.begin<=n.maskLength&&(t.preventDefault(),s.caret.call(i,l,f.begin,f.end))):t.shiftKey||e.insertModeVisual&&!1===e.insertMode&&(d===r.default.RIGHT?setTimeout((function(){var t=s.caret.call(i,l);s.caret.call(i,l,t.begin)}),0):d===r.default.LEFT&&setTimeout((function(){var t=s.translatePosition.call(i,l.inputmask.caretPos.begin);s.translatePosition.call(i,l.inputmask.caretPos.end),s.caret.call(i,l,i.isRTL?t+(t===n.maskLength?0:1):t-(0===t?0:1))}),0)):o.isSelection.call(i,f)?e.insertMode=!e.insertMode:(e.insertMode=!e.insertMode,s.caret.call(i,l,f.begin,f.begin));i.ignorable=e.ignorables.includes(d)},keypressEvent:function(t,i,e,n,a){var u=this.inputmask||this,l=u.opts,c=u.maskset,d=u.el,f=(0,u.dependencyLib)(d),v=t.keyCode;if(!(!0===i||t.ctrlKey&&t.altKey)&&(t.ctrlKey||t.metaKey||u.ignorable))return v===r.default.ENTER&&u.undoValue!==u._valueGet(!0)&&(u.undoValue=u._valueGet(!0),setTimeout((function(){f.trigger("change")}),0)),u.skipInputEvent=!0,!0;if(v){44!==v&&46!==v||3!==t.location||""===l.radixPoint||(v=l.radixPoint.charCodeAt(0));var p,m=i?{begin:a,end:a}:s.caret.call(u,d),b=String.fromCharCode(v);b=l.substitutes[b]||b,c.writeOutBuffer=!0;var y=o.isValid.call(u,m,b,n,void 0,void 0,void 0,i);if(!1!==y&&(s.resetMaskSet.call(u,!0),p=void 0!==y.caret?y.caret:s.seekNext.call(u,y.pos.begin?y.pos.begin:y.pos),c.p=p),p=l.numericInput&&void 0===y.caret?s.seekPrevious.call(u,p):p,!1!==e&&(setTimeout((function(){l.onKeyValidation.call(d,v,y)}),0),c.writeOutBuffer&&!1!==y)){var g=s.getBuffer.call(u);(0,h.writeBuffer)(d,g,p,t,!0!==i)}if(t.preventDefault(),i)return!1!==y&&(y.forwardPosition=p),y}},keyupEvent:function(t){var i=this.inputmask;!i.isComposing||t.keyCode!==r.default.KEY_229&&t.keyCode!==r.default.ENTER||i.$el.trigger("input")},pasteEvent:function(t){var i,e=this.inputmask,n=e.opts,r=e._valueGet(!0),a=s.caret.call(e,this);e.isRTL&&(i=a.end,a.end=s.translatePosition.call(e,a.begin),a.begin=s.translatePosition.call(e,i));var o=r.substr(0,a.begin),u=r.substr(a.end,r.length);if(o==(e.isRTL?s.getBufferTemplate.call(e).slice().reverse():s.getBufferTemplate.call(e)).slice(0,a.begin).join("")&&(o=""),u==(e.isRTL?s.getBufferTemplate.call(e).slice().reverse():s.getBufferTemplate.call(e)).slice(a.end).join("")&&(u=""),window.clipboardData&&window.clipboardData.getData)r=o+window.clipboardData.getData("Text")+u;else{if(!t.clipboardData||!t.clipboardData.getData)return!0;r=o+t.clipboardData.getData("text/plain")+u}var c=r;if(e.isRTL){c=c.split("");var d,f=l(s.getBufferTemplate.call(e));try{for(f.s();!(d=f.n()).done;)c[0]===d.value&&c.shift()}catch(t){f.e(t)}finally{f.f()}c=c.join("")}if("function"==typeof n.onBeforePaste){if(!1===(c=n.onBeforePaste.call(e,c,n)))return!1;c||(c=r)}(0,h.checkVal)(this,!0,!1,c.toString().split(""),t),t.preventDefault()},inputFallBackEvent:function(t){var i=this.inputmask,e=i.opts,n=i.dependencyLib,o=this,l=o.inputmask._valueGet(!0),c=(i.isRTL?s.getBuffer.call(i).slice().reverse():s.getBuffer.call(i)).join(""),f=s.caret.call(i,o,void 0,void 0,!0);if(c!==l){var v=function(t,n,r){for(var a,o,h,l=t.substr(0,r.begin).split(""),c=t.substr(r.begin).split(""),d=n.substr(0,r.begin).split(""),f=n.substr(r.begin).split(""),v=l.length>=d.length?l.length:d.length,p=c.length>=f.length?c.length:f.length,m="",b=[],y="~";l.length<v;)l.push(y);for(;d.length<v;)d.push(y);for(;c.length<p;)c.unshift(y);for(;f.length<p;)f.unshift(y);var g=l.concat(c),C=d.concat(f);for(o=0,a=g.length;o<a;o++)switch(h=u.getPlaceholder.call(i,s.translatePosition.call(i,o)),m){case"insertText":C[o-1]===g[o]&&r.begin==g.length-1&&b.push(g[o]),o=a;break;case"insertReplacementText":case"deleteContentBackward":g[o]===y?r.end++:o=a;break;default:g[o]!==C[o]&&(g[o+1]!==y&&g[o+1]!==h&&void 0!==g[o+1]||(C[o]!==h||C[o+1]!==y)&&C[o]!==y?C[o+1]===y&&C[o]===g[o+1]?(m="insertText",b.push(g[o]),r.begin--,r.end--):g[o]!==h&&g[o]!==y&&(g[o+1]===y||C[o]!==g[o]&&C[o+1]===g[o+1])?(m="insertReplacementText",b.push(g[o]),r.begin--):g[o]===y?(m="deleteContentBackward",(s.isMask.call(i,s.translatePosition.call(i,o),!0)||C[o]===e.radixPoint)&&r.end++):o=a:(m="insertText",b.push(g[o]),r.begin--,r.end--))}return{action:m,data:b,caret:r}}(l=function(t,e,n){if(a.iemobile){var r=e.replace(s.getBuffer.call(i).join(""),"");if(1===r.length){var o=e.split("");o.splice(n.begin,0,r),e=o.join("")}}return e}(0,l,f),c,f);switch((o.inputmask.shadowRoot||o.ownerDocument).activeElement!==o&&o.focus(),(0,h.writeBuffer)(o,s.getBuffer.call(i)),s.caret.call(i,o,f.begin,f.end,!0),v.action){case"insertText":case"insertReplacementText":v.data.forEach((function(t){var e=new n.Event("keypress");e.keyCode=t.charCodeAt(0),i.ignorable=!1,d.keypressEvent.call(o,e)})),setTimeout((function(){i.$el.trigger("keyup")}),0);break;case"deleteContentBackward":var p=new n.Event("keydown");p.keyCode=r.default.BACKSPACE,d.keydownEvent.call(o,p);break;default:(0,h.applyInputValue)(o,l)}t.preventDefault()}},compositionendEvent:function(){var t=this.inputmask;t.isComposing=!1,t.$el.trigger("input")},setValueEvent:function(t){var i=this.inputmask,e=this,n=t&&t.detail?t.detail[0]:arguments[1];void 0===n&&(n=e.inputmask._valueGet(!0)),(0,h.applyInputValue)(e,n),(t.detail&&void 0!==t.detail[1]||void 0!==arguments[2])&&s.caret.call(i,e,t.detail?t.detail[1]:arguments[2])},focusEvent:function(t){var i=this.inputmask,e=i.opts,n=this,r=n.inputmask._valueGet();e.showMaskOnFocus&&r!==s.getBuffer.call(i).join("")&&(0,h.writeBuffer)(n,s.getBuffer.call(i),s.seekNext.call(i,s.getLastValidPosition.call(i))),!0!==e.positionCaretOnTab||!1!==i.mouseEnter||o.isComplete.call(i,s.getBuffer.call(i))&&-1!==s.getLastValidPosition.call(i)||d.clickEvent.apply(n,[t,!0]),i.undoValue=i._valueGet(!0)},invalidEvent:function(){this.inputmask.validationEvent=!0},mouseleaveEvent:function(){var t=this.inputmask,i=t.opts,e=this;t.mouseEnter=!1,i.clearMaskOnLostFocus&&(e.inputmask.shadowRoot||e.ownerDocument).activeElement!==e&&(0,h.HandleNativePlaceholder)(e,t.originalPlaceholder)},clickEvent:function(t,i){var e=this.inputmask,n=this;if((n.inputmask.shadowRoot||n.ownerDocument).activeElement===n){var r=s.determineNewCaretPosition.call(e,s.caret.call(e,n),i);void 0!==r&&s.caret.call(e,n,r)}},cutEvent:function(t){var i=this.inputmask,e=i.maskset,n=this,a=s.caret.call(i,n),u=i.isRTL?s.getBuffer.call(i).slice(a.end,a.begin):s.getBuffer.call(i).slice(a.begin,a.end),l=i.isRTL?u.reverse().join(""):u.join("");window.navigator.clipboard?window.navigator.clipboard.writeText(l):window.clipboardData&&window.clipboardData.getData&&window.clipboardData.setData("Text",l),o.handleRemove.call(i,n,r.default.DELETE,a),(0,h.writeBuffer)(n,s.getBuffer.call(i),e.p,t,i.undoValue!==i._valueGet(!0))},blurEvent:function(t){var i=this.inputmask,e=i.opts,n=(0,i.dependencyLib)(this),r=this;if(r.inputmask){(0,h.HandleNativePlaceholder)(r,i.originalPlaceholder);var a=r.inputmask._valueGet(),u=s.getBuffer.call(i).slice();""!==a&&(e.clearMaskOnLostFocus&&(-1===s.getLastValidPosition.call(i)&&a===s.getBufferTemplate.call(i).join("")?u=[]:h.clearOptionalTail.call(i,u)),!1===o.isComplete.call(i,u)&&(setTimeout((function(){n.trigger("incomplete")}),0),e.clearIncomplete&&(s.resetMaskSet.call(i),u=e.clearMaskOnLostFocus?[]:s.getBufferTemplate.call(i).slice())),(0,h.writeBuffer)(r,u,void 0,t)),i.undoValue!==i._valueGet(!0)&&(i.undoValue=i._valueGet(!0),n.trigger("change"))}},mouseenterEvent:function(){var t=this.inputmask,i=t.opts,e=this;if(t.mouseEnter=!0,(e.inputmask.shadowRoot||e.ownerDocument).activeElement!==e){var n=(t.isRTL?s.getBufferTemplate.call(t).slice().reverse():s.getBufferTemplate.call(t)).join("");t.placeholder!==n&&e.placeholder!==t.originalPlaceholder&&(t.originalPlaceholder=e.placeholder),i.showMaskOnHover&&(0,h.HandleNativePlaceholder)(e,n)}},submitEvent:function(){var t=this.inputmask,i=t.opts;t.undoValue!==t._valueGet(!0)&&t.$el.trigger("change"),-1===s.getLastValidPosition.call(t)&&t._valueGet&&t._valueGet()===s.getBufferTemplate.call(t).join("")&&t._valueSet(""),i.clearIncomplete&&!1===o.isComplete.call(t,s.getBuffer.call(t))&&t._valueSet(""),i.removeMaskOnSubmit&&(t._valueSet(t.unmaskedvalue(),!0),setTimeout((function(){(0,h.writeBuffer)(t.el,s.getBuffer.call(t))}),0))},resetEvent:function(){var t=this.inputmask;t.refreshValue=!0,setTimeout((function(){(0,h.applyInputValue)(t.el,t._valueGet(!0))}),0)}};i.EventHandlers=d},9716:function(t,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.EventRuler=void 0;var n=o(e(2394)),s=o(e(5581)),r=e(8711),a=e(7760);function o(t){return t&&t.__esModule?t:{default:t}}var h={on:function(t,i,e){var o=t.inputmask.dependencyLib,h=function(i){i.originalEvent&&(arguments[0]=i=i.originalEvent||i);var h,u=this,l=u.inputmask,c=l?l.opts:void 0;if(void 0===l&&"FORM"!==this.nodeName){var d=o.data(u,"_inputmask_opts");o(u).off(),d&&new n.default(d).mask(u)}else{if(["submit","reset","setvalue"].includes(i.type)||"FORM"===this.nodeName||!(u.disabled||u.readOnly&&!("keydown"===i.type&&i.ctrlKey&&67===i.keyCode||!1===c.tabThrough&&i.keyCode===s.default.TAB))){switch(i.type){case"input":if(!0===l.skipInputEvent||i.inputType&&"insertCompositionText"===i.inputType)return l.skipInputEvent=!1,i.preventDefault();break;case"keydown":l.skipKeyPressEvent=!1,l.skipInputEvent=l.isComposing=i.keyCode===s.default.KEY_229;break;case"keyup":case"compositionend":l.isComposing&&(l.skipInputEvent=!1);break;case"keypress":if(!0===l.skipKeyPressEvent)return i.preventDefault();l.skipKeyPressEvent=!0;break;case"click":case"focus":return l.validationEvent?(l.validationEvent=!1,t.blur(),(0,a.HandleNativePlaceholder)(t,(l.isRTL?r.getBufferTemplate.call(l).slice().reverse():r.getBufferTemplate.call(l)).join("")),setTimeout((function(){t.focus()}),c.validationEventTimeOut),!1):(h=arguments,setTimeout((function(){t.inputmask&&e.apply(u,h)}),0),!1)}var f=e.apply(u,arguments);return!1===f&&(i.preventDefault(),i.stopPropagation()),f}i.preventDefault()}};["submit","reset"].includes(i)?(h=h.bind(t),null!==t.form&&o(t.form).on(i,h)):o(t).on(i,h),t.inputmask.events[i]=t.inputmask.events[i]||[],t.inputmask.events[i].push(h)},off:function(t,i){if(t.inputmask&&t.inputmask.events){var e=t.inputmask.dependencyLib,n=t.inputmask.events;for(var s in i&&((n=[])[i]=t.inputmask.events[i]),n){for(var r=n[s];r.length>0;){var a=r.pop();["submit","reset"].includes(s)?null!==t.form&&e(t.form).off(s,a):e(t).off(s,a)}delete t.inputmask.events[s]}}}};i.EventRuler=h},219:function(t,i,e){var n=l(e(2394)),s=l(e(5581)),r=l(e(7184)),a=e(8711),o=e(4713);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,i){(null==i||i>t.length)&&(i=t.length);for(var e=0,n=new Array(i);e<i;e++)n[e]=t[e];return n}function l(t){return t&&t.__esModule?t:{default:t}}var c=n.default.dependencyLib,d=function(){function t(i,e,n){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.mask=i,this.format=e,this.opts=n,this._date=new Date(1,0,1),this.initDateObject(i,this.opts)}var i,e;return i=t,(e=[{key:"date",get:function(){return void 0===this._date&&(this._date=new Date(1,0,1),this.initDateObject(void 0,this.opts)),this._date}},{key:"initDateObject",value:function(t,i){var e;for(C(i).lastIndex=0;e=C(i).exec(this.format);){var n=new RegExp("\\d+$").exec(e[0]),s=n?e[0][0]+"x":e[0],r=void 0;if(void 0!==t){if(n){var a=C(i).lastIndex,o=B(e.index,i);C(i).lastIndex=a,r=t.slice(0,t.indexOf(o.nextMatch[0]))}else r=t.slice(0,s.length);t=t.slice(r.length)}Object.prototype.hasOwnProperty.call(p,s)&&this.setValue(this,r,s,p[s][2],p[s][1])}}},{key:"setValue",value:function(t,i,e,n,s){if(void 0!==i&&(t[n]="ampm"===n?i:i.replace(/[^0-9]/g,"0"),t["raw"+n]=i.replace(/\s/g,"_")),void 0!==s){var r=t[n];("day"===n&&29===parseInt(r)||"month"===n&&2===parseInt(r))&&(29!==parseInt(t.day)||2!==parseInt(t.month)||""!==t.year&&void 0!==t.year||t._date.setFullYear(2012,1,29)),"day"===n&&(v=!0,0===parseInt(r)&&(r=1)),"month"===n&&(v=!0),"year"===n&&(v=!0,r.length<4&&(r=T(r,4,!0))),""===r||isNaN(r)||s.call(t._date,r),"ampm"===n&&s.call(t._date,r)}}},{key:"reset",value:function(){this._date=new Date(1,0,1)}},{key:"reInit",value:function(){this._date=void 0}}])&&function(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(i.prototype,e),Object.defineProperty(i,"prototype",{writable:!1}),t}(),f=(new Date).getFullYear(),v=!1,p={d:["[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",Date.prototype.getDate],dd:["0[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",function(){return T(Date.prototype.getDate.call(this),2)}],ddd:[""],dddd:[""],m:["[1-9]|1[012]",function(t){var i=t?parseInt(t):0;return i>0&&i--,Date.prototype.setMonth.call(this,i)},"month",function(){return Date.prototype.getMonth.call(this)+1}],mm:["0[1-9]|1[012]",function(t){var i=t?parseInt(t):0;return i>0&&i--,Date.prototype.setMonth.call(this,i)},"month",function(){return T(Date.prototype.getMonth.call(this)+1,2)}],mmm:[""],mmmm:[""],yy:["[0-9]{2}",Date.prototype.setFullYear,"year",function(){return T(Date.prototype.getFullYear.call(this),2)}],yyyy:["[0-9]{4}",Date.prototype.setFullYear,"year",function(){return T(Date.prototype.getFullYear.call(this),4)}],h:["[1-9]|1[0-2]",Date.prototype.setHours,"hours",Date.prototype.getHours],hh:["0[1-9]|1[0-2]",Date.prototype.setHours,"hours",function(){return T(Date.prototype.getHours.call(this),2)}],hx:[function(t){return"[0-9]{".concat(t,"}")},Date.prototype.setHours,"hours",function(){return Date.prototype.getHours}],H:["1?[0-9]|2[0-3]",Date.prototype.setHours,"hours",Date.prototype.getHours],HH:["0[0-9]|1[0-9]|2[0-3]",Date.prototype.setHours,"hours",function(){return T(Date.prototype.getHours.call(this),2)}],Hx:[function(t){return"[0-9]{".concat(t,"}")},Date.prototype.setHours,"hours",function(t){return function(){return T(Date.prototype.getHours.call(this),t)}}],M:["[1-5]?[0-9]",Date.prototype.setMinutes,"minutes",Date.prototype.getMinutes],MM:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setMinutes,"minutes",function(){return T(Date.prototype.getMinutes.call(this),2)}],s:["[1-5]?[0-9]",Date.prototype.setSeconds,"seconds",Date.prototype.getSeconds],ss:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setSeconds,"seconds",function(){return T(Date.prototype.getSeconds.call(this),2)}],l:["[0-9]{3}",Date.prototype.setMilliseconds,"milliseconds",function(){return T(Date.prototype.getMilliseconds.call(this),3)}],L:["[0-9]{2}",Date.prototype.setMilliseconds,"milliseconds",function(){return T(Date.prototype.getMilliseconds.call(this),2)}],t:["[ap]",b,"ampm",y,1],tt:["[ap]m",b,"ampm",y,2],T:["[AP]",b,"ampm",y,1],TT:["[AP]M",b,"ampm",y,2],Z:[".*",void 0,"Z",function(){var t=this.toString().match(/\((.+)\)/)[1];return t.includes(" ")&&(t=(t=t.replace("-"," ").toUpperCase()).split(" ").map((function(t){return function(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,s,r=[],a=!0,o=!1;try{for(e=e.call(t);!(a=(n=e.next()).done)&&(r.push(n.value),!i||r.length!==i);a=!0);}catch(t){o=!0,s=t}finally{try{a||null==e.return||e.return()}finally{if(o)throw s}}return r}}(t,i)||function(t,i){if(t){if("string"==typeof t)return u(t,i);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?u(t,i):void 0}}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,1)[0]})).join("")),t}],o:[""],S:[""]},m={isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};function b(t){var i=this.getHours();t.toLowerCase().includes("p")?this.setHours(i+12):t.toLowerCase().includes("a")&&i>=12&&this.setHours(i-12)}function y(){var t=this.getHours();return(t=t||12)>=12?"PM":"AM"}function g(t){var i=new RegExp("\\d+$").exec(t[0]);if(i&&void 0!==i[0]){var e=p[t[0][0]+"x"].slice("");return e[0]=e[0](i[0]),e[3]=e[3](i[0]),e}if(p[t[0]])return p[t[0]]}function C(t){if(!t.tokenizer){var i=[],e=[];for(var n in p)if(/\.*x$/.test(n)){var s=n[0]+"\\d+";-1===e.indexOf(s)&&e.push(s)}else-1===i.indexOf(n[0])&&i.push(n[0]);t.tokenizer="("+(e.length>0?e.join("|")+"|":"")+i.join("+|")+")+?|.",t.tokenizer=new RegExp(t.tokenizer,"g")}return t.tokenizer}function w(t,i,e){if(!v)return!0;if(void 0===t.rawday||!isFinite(t.rawday)&&new Date(t.date.getFullYear(),isFinite(t.rawmonth)?t.month:t.date.getMonth()+1,0).getDate()>=t.day||"29"==t.day&&(!isFinite(t.rawyear)||void 0===t.rawyear||""===t.rawyear)||new Date(t.date.getFullYear(),isFinite(t.rawmonth)?t.month:t.date.getMonth()+1,0).getDate()>=t.day)return i;if("29"==t.day){var n=B(i.pos,e);if("yyyy"===n.targetMatch[0]&&i.pos-n.targetMatchIndex==2)return i.remove=i.pos+1,i}else if("02"==t.month&&"30"==t.day&&void 0!==i.c)return t.day="03",t.date.setDate(3),t.date.setMonth(1),i.insert=[{pos:i.pos,c:"0"},{pos:i.pos+1,c:i.c}],i.caret=a.seekNext.call(this,i.pos+1),i;return!1}function k(t,i,e,n){var s,a,o="";for(C(e).lastIndex=0;s=C(e).exec(t);)if(void 0===i)if(a=g(s))o+="("+a[0]+")";else switch(s[0]){case"[":o+="(";break;case"]":o+=")?";break;default:o+=(0,r.default)(s[0])}else(a=g(s))?o+=!0!==n&&a[3]?a[3].call(i.date):a[2]?i["raw"+a[2]]:s[0]:o+=s[0];return o}function T(t,i,e){for(t=String(t),i=i||2;t.length<i;)t=e?t+"0":"0"+t;return t}function D(t,i,e){return"string"==typeof t?new d(t,i,e):t&&"object"===h(t)&&Object.prototype.hasOwnProperty.call(t,"date")?t:void 0}function _(t,i){return k(i.inputFormat,{date:t},i)}function B(t,i){var e,n,s=0,r=0;for(C(i).lastIndex=0;n=C(i).exec(i.inputFormat);){var a=new RegExp("\\d+$").exec(n[0]);if((s+=r=a?parseInt(a[0]):n[0].length)>=t+1){e=n,n=C(i).exec(i.inputFormat);break}}return{targetMatchIndex:s-r,nextMatch:n,targetMatch:e}}n.default.extendAliases({datetime:{mask:function(t){return t.numericInput=!1,p.S=t.i18n.ordinalSuffix.join("|"),t.inputFormat=m[t.inputFormat]||t.inputFormat,t.displayFormat=m[t.displayFormat]||t.displayFormat||t.inputFormat,t.outputFormat=m[t.outputFormat]||t.outputFormat||t.inputFormat,t.placeholder=""!==t.placeholder?t.placeholder:t.inputFormat.replace(/[[\]]/,""),t.regex=k(t.inputFormat,void 0,t),t.min=D(t.min,t.inputFormat,t),t.max=D(t.max,t.inputFormat,t),null},placeholder:"",inputFormat:"isoDateTime",displayFormat:null,outputFormat:null,min:null,max:null,skipOptionalPartCharacter:"",i18n:{dayNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],ordinalSuffix:["st","nd","rd","th"]},preValidation:function(t,i,e,n,s,r,a,o){if(o)return!0;if(isNaN(e)&&t[i]!==e){var h=B(i,s);if(h.nextMatch&&h.nextMatch[0]===e&&h.targetMatch[0].length>1&&new RegExp(p[h.targetMatch[0]][0]).test("0"+t[i-1]))return t[i]=t[i-1],t[i-1]="0",{fuzzy:!0,buffer:t,refreshFromBuffer:{start:i-1,end:i+1},pos:i+1}}return!0},postValidation:function(t,i,e,n,s,r,a){var h,u;if(a)return!0;if(!1===n&&(((h=B(i+1,s)).targetMatch&&h.targetMatchIndex===i&&h.targetMatch[0].length>1&&void 0!==p[h.targetMatch[0]]||(h=B(i+2,s)).targetMatch&&h.targetMatchIndex===i+1&&h.targetMatch[0].length>1&&void 0!==p[h.targetMatch[0]])&&(u=p[h.targetMatch[0]][0]),void 0!==u&&(void 0!==r.validPositions[i+1]&&new RegExp(u).test(e+"0")?(t[i]=e,t[i+1]="0",n={pos:i+2,caret:i}):new RegExp(u).test("0"+e)&&(t[i]="0",t[i+1]=e,n={pos:i+2})),!1===n))return n;if(n.fuzzy&&(t=n.buffer,i=n.pos),(h=B(i,s)).targetMatch&&h.targetMatch[0]&&void 0!==p[h.targetMatch[0]]){var l=p[h.targetMatch[0]];u=l[0];var c=t.slice(h.targetMatchIndex,h.targetMatchIndex+h.targetMatch[0].length);if(!1===new RegExp(u).test(c.join(""))&&2===h.targetMatch[0].length&&r.validPositions[h.targetMatchIndex]&&r.validPositions[h.targetMatchIndex+1]&&(r.validPositions[h.targetMatchIndex+1].input="0"),"year"==l[2])for(var d=o.getMaskTemplate.call(this,!1,1,void 0,!0),v=i+1;v<t.length;v++)t[v]=d[v],delete r.validPositions[v]}var m=n,b=D(t.join(""),s.inputFormat,s);return m&&b.date.getTime()==b.date.getTime()&&(s.prefillYear&&(m=function(t,i,e){if(t.year!==t.rawyear){var n=f.toString(),s=t.rawyear.replace(/[^0-9]/g,""),r=n.slice(0,s.length),a=n.slice(s.length);if(2===s.length&&s===r){var o=new Date(f,t.month-1,t.day);t.day==o.getDate()&&(!e.max||e.max.date.getTime()>=o.getTime())&&(t.date.setFullYear(f),t.year=n,i.insert=[{pos:i.pos+1,c:a[0]},{pos:i.pos+2,c:a[1]}])}}return i}(b,m,s)),m=function(t,i,e,n){if(!i)return i;if(i&&e.min&&e.min.date.getTime()==e.min.date.getTime()){var s;for(t.reset(),C(e).lastIndex=0;s=C(e).exec(e.inputFormat);){var r;if((r=g(s))&&r[3]){for(var a=r[1],o=t[r[2]],h=e.min[r[2]],u=e.max?e.max[r[2]]:h,l=[],c=!1,d=0;d<h.length;d++)void 0!==n.validPositions[d+s.index]||c?(l[d]=o[d],c=c||o[d]>h[d]):(l[d]=h[d],"year"===r[2]&&o.length-1==d&&h!=u&&(l=(parseInt(l.join(""))+1).toString().split("")),"ampm"===r[2]&&h!=u&&e.min.date.getTime()>t.date.getTime()&&(l[d]=u[d]));a.call(t._date,l.join(""))}}i=e.min.date.getTime()<=t.date.getTime(),t.reInit()}return i&&e.max&&e.max.date.getTime()==e.max.date.getTime()&&(i=e.max.date.getTime()>=t.date.getTime()),i}(b,m=w.call(this,b,m,s),s,r)),void 0!==i&&m&&n.pos!==i?{buffer:k(s.inputFormat,b,s).split(""),refreshFromBuffer:{start:i,end:n.pos},pos:n.caret||n.pos}:m},onKeyDown:function(t,i,e,n){t.ctrlKey&&t.keyCode===s.default.RIGHT&&(this.inputmask._valueSet(_(new Date,n)),c(this).trigger("setvalue"))},onUnMask:function(t,i,e){return i?k(e.outputFormat,D(t,e.inputFormat,e),e,!0):i},casing:function(t,i){return 0==i.nativeDef.indexOf("[ap]")?t.toLowerCase():0==i.nativeDef.indexOf("[AP]")?t.toUpperCase():t},onBeforeMask:function(t,i){return"[object Date]"===Object.prototype.toString.call(t)&&(t=_(t,i)),t},insertMode:!1,shiftPositions:!1,keepStatic:!1,inputmode:"numeric",prefillYear:!0}})},3851:function(t,i,e){var n,s=(n=e(2394))&&n.__esModule?n:{default:n},r=e(8711),a=e(4713);s.default.extendDefinitions({A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",casing:"upper"},"&":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",casing:"upper"},"#":{validator:"[0-9A-Fa-f]",casing:"upper"}});var o=new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]");function h(t,i,e){return e-1>-1&&"."!==i.buffer[e-1]?(t=i.buffer[e-1]+t,t=e-2>-1&&"."!==i.buffer[e-2]?i.buffer[e-2]+t:"0"+t):t="00"+t,o.test(t)}s.default.extendAliases({cssunit:{regex:"[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)"},url:{regex:"(https?|ftp)://.*",autoUnmask:!1,keepStatic:!1,tabThrough:!0},ip:{mask:"i{1,3}.j{1,3}.k{1,3}.l{1,3}",definitions:{i:{validator:h},j:{validator:h},k:{validator:h},l:{validator:h}},onUnMask:function(t){return t},inputmode:"decimal",substitutes:{",":"."}},email:{mask:function(t){var i="*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",e=i;if(t.separator)for(var n=0;n<t.quantifier;n++)e+="[".concat(t.separator).concat(i,"]");return e},greedy:!1,casing:"lower",separator:null,quantifier:5,skipOptionalPartCharacter:"",onBeforePaste:function(t){return(t=t.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9１-９A-Za-zА-яЁёÀ-ÿµ!#$%&'*+/=?^_`{|}~-]"},"-":{validator:"[0-9A-Za-z-]"}},onUnMask:function(t){return t},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",casing:"upper"}},clearIncomplete:!0,autoUnmask:!0},ssn:{mask:"999-99-9999",postValidation:function(){var t=a.getMaskTemplate.call(this,!0,r.getLastValidPosition.call(this),!0,!0);return/^(?!219-09-9999|078-05-1120)(?!666|000|9.{2}).{3}-(?!00).{2}-(?!0{4}).{4}$/.test(t.join(""))}}})},207:function(t,i,e){var n=o(e(2394)),s=o(e(5581)),r=o(e(7184)),a=e(8711);function o(t){return t&&t.__esModule?t:{default:t}}var h=n.default.dependencyLib;function u(t,i){for(var e="",s=0;s<t.length;s++)n.default.prototype.definitions[t.charAt(s)]||i.definitions[t.charAt(s)]||i.optionalmarker[0]===t.charAt(s)||i.optionalmarker[1]===t.charAt(s)||i.quantifiermarker[0]===t.charAt(s)||i.quantifiermarker[1]===t.charAt(s)||i.groupmarker[0]===t.charAt(s)||i.groupmarker[1]===t.charAt(s)||i.alternatormarker===t.charAt(s)?e+="\\"+t.charAt(s):e+=t.charAt(s);return e}function l(t,i,e,n){if(t.length>0&&i>0&&(!e.digitsOptional||n)){var s=t.indexOf(e.radixPoint),r=!1;e.negationSymbol.back===t[t.length-1]&&(r=!0,t.length--),-1===s&&(t.push(e.radixPoint),s=t.length-1);for(var a=1;a<=i;a++)isFinite(t[s+a])||(t[s+a]="0")}return r&&t.push(e.negationSymbol.back),t}function c(t,i){var e=0;if("+"===t){for(e in i.validPositions);e=a.seekNext.call(this,parseInt(e))}for(var n in i.tests)if((n=parseInt(n))>=e)for(var s=0,r=i.tests[n].length;s<r;s++)if((void 0===i.validPositions[n]||"-"===t)&&i.tests[n][s].match.def===t)return n+(void 0!==i.validPositions[n]&&"-"!==t?1:0);return e}function d(t,i){var e=-1;for(var n in i.validPositions){var s=i.validPositions[n];if(s&&s.match.def===t){e=parseInt(n);break}}return e}function f(t,i,e,n,s){var r=i.buffer?i.buffer.indexOf(s.radixPoint):-1,a=(-1!==r||n&&s.jitMasking)&&new RegExp(s.definitions[9].validator).test(t);return s._radixDance&&-1!==r&&a&&null==i.validPositions[r]?{insert:{pos:r===e?r+1:r,c:s.radixPoint},pos:e}:a}n.default.extendAliases({numeric:{mask:function(t){t.repeat=0,t.groupSeparator===t.radixPoint&&t.digits&&"0"!==t.digits&&(t.groupSeparator="."===t.radixPoint?",":","===t.radixPoint?".":"")," "===t.groupSeparator&&(t.skipOptionalPartCharacter=void 0),t.placeholder.length>1&&(t.placeholder=t.placeholder.charAt(0)),"radixFocus"===t.positionCaretOnClick&&""===t.placeholder&&(t.positionCaretOnClick="lvp");var i="0",e=t.radixPoint;!0===t.numericInput&&void 0===t.__financeInput?(i="1",t.positionCaretOnClick="radixFocus"===t.positionCaretOnClick?"lvp":t.positionCaretOnClick,t.digitsOptional=!1,isNaN(t.digits)&&(t.digits=2),t._radixDance=!1,e=","===t.radixPoint?"?":"!",""!==t.radixPoint&&void 0===t.definitions[e]&&(t.definitions[e]={},t.definitions[e].validator="["+t.radixPoint+"]",t.definitions[e].placeholder=t.radixPoint,t.definitions[e].static=!0,t.definitions[e].generated=!0)):(t.__financeInput=!1,t.numericInput=!0);var n,s="[+]";if(s+=u(t.prefix,t),""!==t.groupSeparator?(void 0===t.definitions[t.groupSeparator]&&(t.definitions[t.groupSeparator]={},t.definitions[t.groupSeparator].validator="["+t.groupSeparator+"]",t.definitions[t.groupSeparator].placeholder=t.groupSeparator,t.definitions[t.groupSeparator].static=!0,t.definitions[t.groupSeparator].generated=!0),s+=t._mask(t)):s+="9{+}",void 0!==t.digits&&0!==t.digits){var a=t.digits.toString().split(",");isFinite(a[0])&&a[1]&&isFinite(a[1])?s+=e+i+"{"+t.digits+"}":(isNaN(t.digits)||parseInt(t.digits)>0)&&(t.digitsOptional||t.jitMasking?(n=s+e+i+"{0,"+t.digits+"}",t.keepStatic=!0):s+=e+i+"{"+t.digits+"}")}else t.inputmode="numeric";return s+=u(t.suffix,t),s+="[-]",n&&(s=[n+u(t.suffix,t)+"[-]",s]),t.greedy=!1,function(t){void 0===t.parseMinMaxOptions&&(null!==t.min&&(t.min=t.min.toString().replace(new RegExp((0,r.default)(t.groupSeparator),"g"),""),","===t.radixPoint&&(t.min=t.min.replace(t.radixPoint,".")),t.min=isFinite(t.min)?parseFloat(t.min):NaN,isNaN(t.min)&&(t.min=Number.MIN_VALUE)),null!==t.max&&(t.max=t.max.toString().replace(new RegExp((0,r.default)(t.groupSeparator),"g"),""),","===t.radixPoint&&(t.max=t.max.replace(t.radixPoint,".")),t.max=isFinite(t.max)?parseFloat(t.max):NaN,isNaN(t.max)&&(t.max=Number.MAX_VALUE)),t.parseMinMaxOptions="done")}(t),""!==t.radixPoint&&(t.substitutes["."==t.radixPoint?",":"."]=t.radixPoint),s},_mask:function(t){return"("+t.groupSeparator+"999){+|1}"},digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",_radixDance:!0,groupSeparator:"",allowMinus:!0,negationSymbol:{front:"-",back:""},prefix:"",suffix:"",min:null,max:null,SetMaxOnOverflow:!1,step:1,inputType:"text",unmaskAsNumber:!1,roundingFN:Math.round,inputmode:"decimal",shortcuts:{k:"1000",m:"1000000"},placeholder:"0",greedy:!1,rightAlign:!0,insertMode:!0,autoUnmask:!1,skipOptionalPartCharacter:"",usePrototypeDefinitions:!1,stripLeadingZeroes:!0,definitions:{0:{validator:f},1:{validator:f,definitionSymbol:"9"},9:{validator:"[0-9０-９٠-٩۰-۹]",definitionSymbol:"*"},"+":{validator:function(t,i,e,n,s){return s.allowMinus&&("-"===t||t===s.negationSymbol.front)}},"-":{validator:function(t,i,e,n,s){return s.allowMinus&&t===s.negationSymbol.back}}},preValidation:function(t,i,e,n,s,r,a,o){if(!1!==s.__financeInput&&e===s.radixPoint)return!1;var h=t.indexOf(s.radixPoint),u=i;if(i=function(t,i,e,n,s){return s._radixDance&&s.numericInput&&i!==s.negationSymbol.back&&t<=e&&(e>0||i==s.radixPoint)&&(void 0===n.validPositions[t-1]||n.validPositions[t-1].input!==s.negationSymbol.back)&&(t-=1),t}(i,e,h,r,s),"-"===e||e===s.negationSymbol.front){if(!0!==s.allowMinus)return!1;var l=!1,f=d("+",r),v=d("-",r);return-1!==f&&(l=[f,v]),!1!==l?{remove:l,caret:u-s.negationSymbol.back.length}:{insert:[{pos:c.call(this,"+",r),c:s.negationSymbol.front,fromIsValid:!0},{pos:c.call(this,"-",r),c:s.negationSymbol.back,fromIsValid:void 0}],caret:u+s.negationSymbol.back.length}}if(e===s.groupSeparator)return{caret:u};if(o)return!0;if(-1!==h&&!0===s._radixDance&&!1===n&&e===s.radixPoint&&void 0!==s.digits&&(isNaN(s.digits)||parseInt(s.digits)>0)&&h!==i)return{caret:s._radixDance&&i===h-1?h+1:h};if(!1===s.__financeInput)if(n){if(s.digitsOptional)return{rewritePosition:a.end};if(!s.digitsOptional){if(a.begin>h&&a.end<=h)return e===s.radixPoint?{insert:{pos:h+1,c:"0",fromIsValid:!0},rewritePosition:h}:{rewritePosition:h+1};if(a.begin<h)return{rewritePosition:a.begin-1}}}else if(!s.showMaskOnHover&&!s.showMaskOnFocus&&!s.digitsOptional&&s.digits>0&&""===this.__valueGet.call(this.el))return{rewritePosition:h};return{rewritePosition:i}},postValidation:function(t,i,e,n,s,r,a){if(!1===n)return n;if(a)return!0;if(null!==s.min||null!==s.max){var o=s.onUnMask(t.slice().reverse().join(""),void 0,h.extend({},s,{unmaskAsNumber:!0}));if(null!==s.min&&o<s.min&&(o.toString().length>s.min.toString().length||o<0))return!1;if(null!==s.max&&o>s.max)return!!s.SetMaxOnOverflow&&{refreshFromBuffer:!0,buffer:l(s.max.toString().replace(".",s.radixPoint).split(""),s.digits,s).reverse()}}return n},onUnMask:function(t,i,e){if(""===i&&!0===e.nullable)return i;var n=t.replace(e.prefix,"");return n=(n=n.replace(e.suffix,"")).replace(new RegExp((0,r.default)(e.groupSeparator),"g"),""),""!==e.placeholder.charAt(0)&&(n=n.replace(new RegExp(e.placeholder.charAt(0),"g"),"0")),e.unmaskAsNumber?(""!==e.radixPoint&&-1!==n.indexOf(e.radixPoint)&&(n=n.replace(r.default.call(this,e.radixPoint),".")),n=(n=n.replace(new RegExp("^"+(0,r.default)(e.negationSymbol.front)),"-")).replace(new RegExp((0,r.default)(e.negationSymbol.back)+"$"),""),Number(n)):n},isComplete:function(t,i){var e=(i.numericInput?t.slice().reverse():t).join("");return e=(e=(e=(e=(e=e.replace(new RegExp("^"+(0,r.default)(i.negationSymbol.front)),"-")).replace(new RegExp((0,r.default)(i.negationSymbol.back)+"$"),"")).replace(i.prefix,"")).replace(i.suffix,"")).replace(new RegExp((0,r.default)(i.groupSeparator)+"([0-9]{3})","g"),"$1"),","===i.radixPoint&&(e=e.replace((0,r.default)(i.radixPoint),".")),isFinite(e)},onBeforeMask:function(t,i){var e=i.radixPoint||",";isFinite(i.digits)&&(i.digits=parseInt(i.digits)),"number"!=typeof t&&"number"!==i.inputType||""===e||(t=t.toString().replace(".",e));var n="-"===t.charAt(0)||t.charAt(0)===i.negationSymbol.front,s=t.split(e),a=s[0].replace(/[^\-0-9]/g,""),o=s.length>1?s[1].replace(/[^0-9]/g,""):"",h=s.length>1;t=a+(""!==o?e+o:o);var u=0;if(""!==e&&(u=i.digitsOptional?i.digits<o.length?i.digits:o.length:i.digits,""!==o||!i.digitsOptional)){var c=Math.pow(10,u||1);t=t.replace((0,r.default)(e),"."),isNaN(parseFloat(t))||(t=(i.roundingFN(parseFloat(t)*c)/c).toFixed(u)),t=t.toString().replace(".",e)}if(0===i.digits&&-1!==t.indexOf(e)&&(t=t.substring(0,t.indexOf(e))),null!==i.min||null!==i.max){var d=t.toString().replace(e,".");null!==i.min&&d<i.min?t=i.min.toString().replace(".",e):null!==i.max&&d>i.max&&(t=i.max.toString().replace(".",e))}return n&&"-"!==t.charAt(0)&&(t="-"+t),l(t.toString().split(""),u,i,h).join("")},onBeforeWrite:function(t,i,e,n){function s(t,i){if(!1!==n.__financeInput||i){var e=t.indexOf(n.radixPoint);-1!==e&&t.splice(e,1)}if(""!==n.groupSeparator)for(;-1!==(e=t.indexOf(n.groupSeparator));)t.splice(e,1);return t}var a,o;if(n.stripLeadingZeroes&&(o=function(t,i){var e=new RegExp("(^"+(""!==i.negationSymbol.front?(0,r.default)(i.negationSymbol.front)+"?":"")+(0,r.default)(i.prefix)+")(.*)("+(0,r.default)(i.suffix)+(""!=i.negationSymbol.back?(0,r.default)(i.negationSymbol.back)+"?":"")+"$)").exec(t.slice().reverse().join("")),n=e?e[2]:"",s=!1;return n&&(n=n.split(i.radixPoint.charAt(0))[0],s=new RegExp("^[0"+i.groupSeparator+"]*").exec(n)),!(!s||!(s[0].length>1||s[0].length>0&&s[0].length<n.length))&&s}(i,n)))for(var u=i.join("").lastIndexOf(o[0].split("").reverse().join(""))-(o[0]==o.input?0:1),c=o[0].length-(o[0]==o.input?1:0);c>0;c--)delete this.maskset.validPositions[u+c],delete i[u+c];if(t)switch(t.type){case"blur":case"checkval":if(null!==n.min){var d=n.onUnMask(i.slice().reverse().join(""),void 0,h.extend({},n,{unmaskAsNumber:!0}));if(null!==n.min&&d<n.min)return{refreshFromBuffer:!0,buffer:l(n.min.toString().replace(".",n.radixPoint).split(""),n.digits,n).reverse()}}if(i[i.length-1]===n.negationSymbol.front){var f=new RegExp("(^"+(""!=n.negationSymbol.front?(0,r.default)(n.negationSymbol.front)+"?":"")+(0,r.default)(n.prefix)+")(.*)("+(0,r.default)(n.suffix)+(""!=n.negationSymbol.back?(0,r.default)(n.negationSymbol.back)+"?":"")+"$)").exec(s(i.slice(),!0).reverse().join(""));0==(f?f[2]:"")&&(a={refreshFromBuffer:!0,buffer:[0]})}else""!==n.radixPoint&&i.indexOf(n.radixPoint)===n.suffix.length&&(a&&a.buffer?a.buffer.splice(0,1+n.suffix.length):(i.splice(0,1+n.suffix.length),a={refreshFromBuffer:!0,buffer:s(i)}));if(n.enforceDigitsOnBlur){var v=(a=a||{})&&a.buffer||i.slice().reverse();a.refreshFromBuffer=!0,a.buffer=l(v,n.digits,n,!0).reverse()}}return a},onKeyDown:function(t,i,e,n){var r,a,o=h(this),u=String.fromCharCode(t.keyCode).toLowerCase();if((a=n.shortcuts&&n.shortcuts[u])&&a.length>1)return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())*parseInt(a)),o.trigger("setvalue"),!1;if(t.ctrlKey)switch(t.keyCode){case s.default.UP:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())+parseInt(n.step)),o.trigger("setvalue"),!1;case s.default.DOWN:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())-parseInt(n.step)),o.trigger("setvalue"),!1}if(!t.shiftKey&&(t.keyCode===s.default.DELETE||t.keyCode===s.default.BACKSPACE||t.keyCode===s.default.BACKSPACE_SAFARI)&&e.begin!==i.length){if(i[t.keyCode===s.default.DELETE?e.begin-1:e.end]===n.negationSymbol.front)return r=i.slice().reverse(),""!==n.negationSymbol.front&&r.shift(),""!==n.negationSymbol.back&&r.pop(),o.trigger("setvalue",[r.join(""),e.begin]),!1;if(!0===n._radixDance){var c=i.indexOf(n.radixPoint);if(n.digitsOptional){if(0===c)return(r=i.slice().reverse()).pop(),o.trigger("setvalue",[r.join(""),e.begin>=r.length?r.length:e.begin]),!1}else if(-1!==c&&(e.begin<c||e.end<c||t.keyCode===s.default.DELETE&&e.begin===c))return e.begin!==e.end||t.keyCode!==s.default.BACKSPACE&&t.keyCode!==s.default.BACKSPACE_SAFARI||e.begin++,(r=i.slice().reverse()).splice(r.length-e.begin,e.begin-e.end+1),r=l(r,n.digits,n).join(""),o.trigger("setvalue",[r,e.begin>=r.length?c+1:e.begin]),!1}}}},currency:{prefix:"",groupSeparator:",",alias:"numeric",digits:2,digitsOptional:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",inputmode:"numeric",digits:0},percentage:{alias:"numeric",min:0,max:100,suffix:" %",digits:0,allowMinus:!1},indianns:{alias:"numeric",_mask:function(t){return"("+t.groupSeparator+"99){*|1}("+t.groupSeparator+"999){1|1}"},groupSeparator:",",radixPoint:".",placeholder:"0",digits:2,digitsOptional:!1}})},9380:function(t,i,e){var n;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=((n=e(8741))&&n.__esModule?n:{default:n}).default?window:{};i.default=s},7760:function(t,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.HandleNativePlaceholder=function(t,i){var e=t?t.inputmask:this;if(h.ie){if(t.inputmask._valueGet()!==i&&(t.placeholder!==i||""===t.placeholder)){var n=a.getBuffer.call(e).slice(),s=t.inputmask._valueGet();if(s!==i){var r=a.getLastValidPosition.call(e);-1===r&&s===a.getBufferTemplate.call(e).join("")?n=[]:-1!==r&&c.call(e,n),f(t,n)}}}else t.placeholder!==i&&(t.placeholder=i,""===t.placeholder&&t.removeAttribute("placeholder"))},i.applyInputValue=l,i.checkVal=d,i.clearOptionalTail=c,i.unmaskedvalue=function(t){var i=t?t.inputmask:this,e=i.opts,n=i.maskset;if(t){if(void 0===t.inputmask)return t.value;t.inputmask&&t.inputmask.refreshValue&&l(t,t.inputmask._valueGet(!0))}var s=[],r=n.validPositions;for(var o in r)r[o]&&r[o].match&&(1!=r[o].match.static||Array.isArray(n.metadata)&&!0!==r[o].generatedInput)&&s.push(r[o].input);var h=0===s.length?"":(i.isRTL?s.reverse():s).join("");if("function"==typeof e.onUnMask){var u=(i.isRTL?a.getBuffer.call(i).slice().reverse():a.getBuffer.call(i)).join("");h=e.onUnMask.call(i,u,h,e)}return h},i.writeBuffer=f;var n,s=(n=e(5581))&&n.__esModule?n:{default:n},r=e(4713),a=e(8711),o=e(7215),h=e(9845),u=e(6030);function l(t,i){var e=t?t.inputmask:this,n=e.opts;t.inputmask.refreshValue=!1,"function"==typeof n.onBeforeMask&&(i=n.onBeforeMask.call(e,i,n)||i),d(t,!0,!1,i=i.toString().split("")),e.undoValue=e._valueGet(!0),(n.clearMaskOnLostFocus||n.clearIncomplete)&&t.inputmask._valueGet()===a.getBufferTemplate.call(e).join("")&&-1===a.getLastValidPosition.call(e)&&t.inputmask._valueSet("")}function c(t){t.length=0;for(var i,e=r.getMaskTemplate.call(this,!0,0,!0,void 0,!0);void 0!==(i=e.shift());)t.push(i);return t}function d(t,i,e,n,s){var h=t?t.inputmask:this,l=h.maskset,c=h.opts,d=h.dependencyLib,v=n.slice(),p="",m=-1,b=void 0,y=c.skipOptionalPartCharacter;c.skipOptionalPartCharacter="",a.resetMaskSet.call(h),l.tests={},m=c.radixPoint?a.determineNewCaretPosition.call(h,{begin:0,end:0},!1,!1===c.__financeInput?"radixFocus":void 0).begin:0,l.p=m,h.caretPos={begin:m};var g=[],C=h.caretPos;if(v.forEach((function(t,i){if(void 0!==t){var n=new d.Event("_checkval");n.keyCode=t.toString().charCodeAt(0),p+=t;var s=a.getLastValidPosition.call(h,void 0,!0);!function(t,i){for(var e=r.getMaskTemplate.call(h,!0,0).slice(t,a.seekNext.call(h,t,!1,!1)).join("").replace(/'/g,""),n=e.indexOf(i);n>0&&" "===e[n-1];)n--;var s=0===n&&!a.isMask.call(h,t)&&(r.getTest.call(h,t).match.nativeDef===i.charAt(0)||!0===r.getTest.call(h,t).match.static&&r.getTest.call(h,t).match.nativeDef==="'"+i.charAt(0)||" "===r.getTest.call(h,t).match.nativeDef&&(r.getTest.call(h,t+1).match.nativeDef===i.charAt(0)||!0===r.getTest.call(h,t+1).match.static&&r.getTest.call(h,t+1).match.nativeDef==="'"+i.charAt(0)));if(!s&&n>0&&!a.isMask.call(h,t,!1,!0)){var o=a.seekNext.call(h,t);h.caretPos.begin<o&&(h.caretPos={begin:o})}return s}(m,p)?(b=u.EventHandlers.keypressEvent.call(h,n,!0,!1,e,h.caretPos.begin))&&(m=h.caretPos.begin+1,p=""):b=u.EventHandlers.keypressEvent.call(h,n,!0,!1,e,s+1),b?(void 0!==b.pos&&l.validPositions[b.pos]&&!0===l.validPositions[b.pos].match.static&&void 0===l.validPositions[b.pos].alternation&&(g.push(b.pos),h.isRTL||(b.forwardPosition=b.pos+1)),f.call(h,void 0,a.getBuffer.call(h),b.forwardPosition,n,!1),h.caretPos={begin:b.forwardPosition,end:b.forwardPosition},C=h.caretPos):void 0===l.validPositions[i]&&v[i]===r.getPlaceholder.call(h,i)&&a.isMask.call(h,i,!0)?h.caretPos.begin++:h.caretPos=C}})),g.length>0){var w,k,T=a.seekNext.call(h,-1,void 0,!1);if(!o.isComplete.call(h,a.getBuffer.call(h))&&g.length<=T||o.isComplete.call(h,a.getBuffer.call(h))&&g.length>0&&g.length!==T&&0===g[0])for(var D=T;void 0!==(w=g.shift());){var _=new d.Event("_checkval");if((k=l.validPositions[w]).generatedInput=!0,_.keyCode=k.input.charCodeAt(0),(b=u.EventHandlers.keypressEvent.call(h,_,!0,!1,e,D))&&void 0!==b.pos&&b.pos!==w&&l.validPositions[b.pos]&&!0===l.validPositions[b.pos].match.static)g.push(b.pos);else if(!b)break;D++}}i&&f.call(h,t,a.getBuffer.call(h),b?b.forwardPosition:h.caretPos.begin,s||new d.Event("checkval"),s&&("input"===s.type&&h.undoValue!==a.getBuffer.call(h).join("")||"paste"===s.type)),c.skipOptionalPartCharacter=y}function f(t,i,e,n,r){var h=t?t.inputmask:this,u=h.opts,l=h.dependencyLib;if(n&&"function"==typeof u.onBeforeWrite){var c=u.onBeforeWrite.call(h,n,i,e,u);if(c){if(c.refreshFromBuffer){var d=c.refreshFromBuffer;o.refreshFromBuffer.call(h,!0===d?d:d.start,d.end,c.buffer||i),i=a.getBuffer.call(h,!0)}void 0!==e&&(e=void 0!==c.caret?c.caret:e)}}if(void 0!==t&&(t.inputmask._valueSet(i.join("")),void 0===e||void 0!==n&&"blur"===n.type||a.caret.call(h,t,e,void 0,void 0,void 0!==n&&"keydown"===n.type&&(n.keyCode===s.default.DELETE||n.keyCode===s.default.BACKSPACE)),!0===r)){var f=l(t),v=t.inputmask._valueGet();t.inputmask.skipInputEvent=!0,f.trigger("input"),setTimeout((function(){v===a.getBufferTemplate.call(h).join("")?f.trigger("cleared"):!0===o.isComplete.call(h,i)&&f.trigger("complete")}),0)}}},2394:function(t,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e(7149),e(3194);var n=e(157),s=m(e(4963)),r=m(e(9380)),a=e(2391),o=e(4713),h=e(8711),u=e(7215),l=e(7760),c=e(9716),d=m(e(7392)),f=m(e(3976)),v=m(e(8741));function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t){return t&&t.__esModule?t:{default:t}}var b=r.default.document,y="_inputmask_opts";function g(t,i,e){if(v.default){if(!(this instanceof g))return new g(t,i,e);this.dependencyLib=s.default,this.el=void 0,this.events={},this.maskset=void 0,!0!==e&&("[object Object]"===Object.prototype.toString.call(t)?i=t:(i=i||{},t&&(i.alias=t)),this.opts=s.default.extend(!0,{},this.defaults,i),this.noMasksCache=i&&void 0!==i.definitions,this.userOptions=i||{},C(this.opts.alias,i,this.opts)),this.refreshValue=!1,this.undoValue=void 0,this.$el=void 0,this.skipKeyPressEvent=!1,this.skipInputEvent=!1,this.validationEvent=!1,this.ignorable=!1,this.mouseEnter=!1,this.originalPlaceholder=void 0,this.isComposing=!1}}function C(t,i,e){var n=g.prototype.aliases[t];return n?(n.alias&&C(n.alias,void 0,e),s.default.extend(!0,e,n),s.default.extend(!0,e,i),!0):(null===e.mask&&(e.mask=t),!1)}g.prototype={dataAttribute:"data-inputmask",defaults:f.default,definitions:d.default,aliases:{},masksCache:{},get isRTL(){return this.opts.isRTL||this.opts.numericInput},mask:function(t){var i=this;return"string"==typeof t&&(t=b.getElementById(t)||b.querySelectorAll(t)),(t=t.nodeName?[t]:Array.isArray(t)?t:Array.from(t)).forEach((function(t){var e=s.default.extend(!0,{},i.opts);if(function(t,i,e,n){function a(i,s){null!==(s=void 0!==s?s:t.getAttribute(""===n?i:n+"-"+i))&&("string"==typeof s&&(0===i.indexOf("on")?s=r.default[s]:"false"===s?s=!1:"true"===s&&(s=!0)),e[i]=s)}if(!0===i.importDataAttributes){var o,h,u,l,c=t.getAttribute(n);if(c&&""!==c&&(c=c.replace(/'/g,'"'),h=JSON.parse("{"+c+"}")),h)for(l in u=void 0,h)if("alias"===l.toLowerCase()){u=h[l];break}for(o in a("alias",u),e.alias&&C(e.alias,e,i),i){if(h)for(l in u=void 0,h)if(l.toLowerCase()===o.toLowerCase()){u=h[l];break}a(o,u)}}return s.default.extend(!0,i,e),("rtl"===t.dir||i.rightAlign)&&(t.style.textAlign="right"),("rtl"===t.dir||i.numericInput)&&(t.dir="ltr",t.removeAttribute("dir"),i.isRTL=!0),Object.keys(e).length}(t,e,s.default.extend(!0,{},i.userOptions),i.dataAttribute)){var o=(0,a.generateMaskSet)(e,i.noMasksCache);void 0!==o&&(void 0!==t.inputmask&&(t.inputmask.opts.autoUnmask=!0,t.inputmask.remove()),t.inputmask=new g(void 0,void 0,!0),t.inputmask.opts=e,t.inputmask.noMasksCache=i.noMasksCache,t.inputmask.userOptions=s.default.extend(!0,{},i.userOptions),t.inputmask.el=t,t.inputmask.$el=(0,s.default)(t),t.inputmask.maskset=o,s.default.data(t,y,i.userOptions),n.mask.call(t.inputmask))}})),t&&t[0]&&t[0].inputmask||this},option:function(t,i){return"string"==typeof t?this.opts[t]:"object"===p(t)?(s.default.extend(this.userOptions,t),this.el&&!0!==i&&this.mask(this.el),this):void 0},unmaskedvalue:function(t){if(this.maskset=this.maskset||(0,a.generateMaskSet)(this.opts,this.noMasksCache),void 0===this.el||void 0!==t){var i=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,t,this.opts)||t).split("");l.checkVal.call(this,void 0,!1,!1,i),"function"==typeof this.opts.onBeforeWrite&&this.opts.onBeforeWrite.call(this,void 0,h.getBuffer.call(this),0,this.opts)}return l.unmaskedvalue.call(this,this.el)},remove:function(){if(this.el){s.default.data(this.el,y,null);var t=this.opts.autoUnmask?(0,l.unmaskedvalue)(this.el):this._valueGet(this.opts.autoUnmask);t!==h.getBufferTemplate.call(this).join("")?this._valueSet(t,this.opts.autoUnmask):this._valueSet(""),c.EventRuler.off(this.el),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.el),"value")&&this.__valueGet&&Object.defineProperty(this.el,"value",{get:this.__valueGet,set:this.__valueSet,configurable:!0}):b.__lookupGetter__&&this.el.__lookupGetter__("value")&&this.__valueGet&&(this.el.__defineGetter__("value",this.__valueGet),this.el.__defineSetter__("value",this.__valueSet)),this.el.inputmask=void 0}return this.el},getemptymask:function(){return this.maskset=this.maskset||(0,a.generateMaskSet)(this.opts,this.noMasksCache),h.getBufferTemplate.call(this).join("")},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||(0,a.generateMaskSet)(this.opts,this.noMasksCache),u.isComplete.call(this,h.getBuffer.call(this))},getmetadata:function(){if(this.maskset=this.maskset||(0,a.generateMaskSet)(this.opts,this.noMasksCache),Array.isArray(this.maskset.metadata)){var t=o.getMaskTemplate.call(this,!0,0,!1).join("");return this.maskset.metadata.forEach((function(i){return i.mask!==t||(t=i,!1)})),t}return this.maskset.metadata},isValid:function(t){if(this.maskset=this.maskset||(0,a.generateMaskSet)(this.opts,this.noMasksCache),t){var i=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,t,this.opts)||t).split("");l.checkVal.call(this,void 0,!0,!1,i)}else t=this.isRTL?h.getBuffer.call(this).slice().reverse().join(""):h.getBuffer.call(this).join("");for(var e=h.getBuffer.call(this),n=h.determineLastRequiredPosition.call(this),s=e.length-1;s>n&&!h.isMask.call(this,s);s--);return e.splice(n,s+1-n),u.isComplete.call(this,e)&&t===(this.isRTL?h.getBuffer.call(this).slice().reverse().join(""):h.getBuffer.call(this).join(""))},format:function(t,i){this.maskset=this.maskset||(0,a.generateMaskSet)(this.opts,this.noMasksCache);var e=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,t,this.opts)||t).split("");l.checkVal.call(this,void 0,!0,!1,e);var n=this.isRTL?h.getBuffer.call(this).slice().reverse().join(""):h.getBuffer.call(this).join("");return i?{value:n,metadata:this.getmetadata()}:n},setValue:function(t){this.el&&(0,s.default)(this.el).trigger("setvalue",[t])},analyseMask:a.analyseMask},g.extendDefaults=function(t){s.default.extend(!0,g.prototype.defaults,t)},g.extendDefinitions=function(t){s.default.extend(!0,g.prototype.definitions,t)},g.extendAliases=function(t){s.default.extend(!0,g.prototype.aliases,t)},g.format=function(t,i,e){return g(i).format(t,e)},g.unmask=function(t,i){return g(i).unmaskedvalue(t)},g.isValid=function(t,i){return g(i).isValid(t)},g.remove=function(t){"string"==typeof t&&(t=b.getElementById(t)||b.querySelectorAll(t)),(t=t.nodeName?[t]:t).forEach((function(t){t.inputmask&&t.inputmask.remove()}))},g.setValue=function(t,i){"string"==typeof t&&(t=b.getElementById(t)||b.querySelectorAll(t)),(t=t.nodeName?[t]:t).forEach((function(t){t.inputmask?t.inputmask.setValue(i):(0,s.default)(t).trigger("setvalue",[i])}))},g.dependencyLib=s.default,r.default.Inputmask=g,i.default=g},5296:function(t,i,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=f(e(9380)),r=f(e(2394)),a=f(e(8741));function o(t,i){if(i&&("object"===n(i)||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){var i="function"==typeof Map?new Map:void 0;return(h=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(t))return i.get(t);i.set(t,e)}function e(){return u(t,arguments,d(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),c(e,t)})(t)}function u(t,i,e){return(u=l()?Reflect.construct:function(t,i,e){var n=[null];n.push.apply(n,i);var s=new(Function.bind.apply(t,n));return e&&c(s,e.prototype),s}).apply(null,arguments)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function c(t,i){return(c=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t){return t&&t.__esModule?t:{default:t}}var v=s.default.document;if(a.default&&v&&v.head&&v.head.attachShadow&&s.default.customElements&&void 0===s.default.customElements.get("input-mask")){var p=function(t){!function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),i&&c(t,i)}(a,t);var i,e,n,s=(i=a,e=l(),function(){var t,n=d(i);if(e){var s=d(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return o(this,t)});function a(){var t;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,a);var i=(t=s.call(this)).getAttributeNames(),e=t.attachShadow({mode:"closed"}),n=v.createElement("input");for(var o in n.type="text",e.appendChild(n),i)Object.prototype.hasOwnProperty.call(i,o)&&n.setAttribute(i[o],t.getAttribute(i[o]));var h=new r.default;return h.dataAttribute="",h.mask(n),n.inputmask.shadowRoot=e,t}return n=a,Object.defineProperty(n,"prototype",{writable:!1}),n}(h(HTMLElement));s.default.customElements.define("input-mask",p)}},2391:function(t,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.analyseMask=function(t,i,e){var n,a,o,h,u,l,c=/(?:[?*+]|\{[0-9+*]+(?:,[0-9+*]*)?(?:\|[0-9+*]*)?\})|[^.?*+^${[]()|\\]+|./g,d=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,f=!1,v=new s.default,p=[],m=[],b=!1;function y(t,n,s){var a=t.matches[(s=void 0!==s?s:t.matches.length)-1];if(i)0===n.indexOf("[")||f&&/\\d|\\s|\\w/i.test(n)||"."===n?t.matches.splice(s++,0,{fn:new RegExp(n,e.casing?"i":""),static:!1,optionality:!1,newBlockMarker:void 0===a?"master":a.def!==n,casing:null,def:n,placeholder:void 0,nativeDef:n}):(f&&(n=n[n.length-1]),n.split("").forEach((function(i){a=t.matches[s-1],t.matches.splice(s++,0,{fn:/[a-z]/i.test(e.staticDefinitionSymbol||i)?new RegExp("["+(e.staticDefinitionSymbol||i)+"]",e.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===a?"master":a.def!==i&&!0!==a.static,casing:null,def:e.staticDefinitionSymbol||i,placeholder:void 0!==e.staticDefinitionSymbol?i:void 0,nativeDef:(f?"'":"")+i})}))),f=!1;else{var o=e.definitions&&e.definitions[n]||e.usePrototypeDefinitions&&r.default.prototype.definitions[n];o&&!f?t.matches.splice(s++,0,{fn:o.validator?"string"==typeof o.validator?new RegExp(o.validator,e.casing?"i":""):new function(){this.test=o.validator}:new RegExp("."),static:o.static||!1,optionality:o.optional||!1,newBlockMarker:void 0===a||o.optional?"master":a.def!==(o.definitionSymbol||n),casing:o.casing,def:o.definitionSymbol||n,placeholder:o.placeholder,nativeDef:n,generated:o.generated}):(t.matches.splice(s++,0,{fn:/[a-z]/i.test(e.staticDefinitionSymbol||n)?new RegExp("["+(e.staticDefinitionSymbol||n)+"]",e.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===a?"master":a.def!==n&&!0!==a.static,casing:null,def:e.staticDefinitionSymbol||n,placeholder:void 0!==e.staticDefinitionSymbol?n:void 0,nativeDef:(f?"'":"")+n}),f=!1)}}function g(){if(p.length>0){if(y(h=p[p.length-1],a),h.isAlternator){u=p.pop();for(var t=0;t<u.matches.length;t++)u.matches[t].isGroup&&(u.matches[t].isGroup=!1);p.length>0?(h=p[p.length-1]).matches.push(u):v.matches.push(u)}}else y(v,a)}function C(t){var i=new s.default(!0);return i.openGroup=!1,i.matches=t,i}function w(){if((o=p.pop()).openGroup=!1,void 0!==o)if(p.length>0){if((h=p[p.length-1]).matches.push(o),h.isAlternator){for(var t=(u=p.pop()).matches[0].matches?u.matches[0].matches.length:1,i=0;i<u.matches.length;i++)u.matches[i].isGroup=!1,u.matches[i].alternatorGroup=!1,null===e.keepStatic&&t<(u.matches[i].matches?u.matches[i].matches.length:1)&&(e.keepStatic=!0),t=u.matches[i].matches?u.matches[i].matches.length:1;p.length>0?(h=p[p.length-1]).matches.push(u):v.matches.push(u)}}else v.matches.push(o);else g()}function k(t){var i=t.pop();return i.isQuantifier&&(i=C([t.pop(),i])),i}for(i&&(e.optionalmarker[0]=void 0,e.optionalmarker[1]=void 0);n=i?d.exec(t):c.exec(t);){if(a=n[0],i){switch(a.charAt(0)){case"?":a="{0,1}";break;case"+":case"*":a="{"+a+"}";break;case"|":if(0===p.length){var T=C(v.matches);T.openGroup=!0,p.push(T),v.matches=[],b=!0}}"\\d"===a&&(a="[0-9]")}if(f)g();else switch(a.charAt(0)){case"$":case"^":i||g();break;case e.escapeChar:f=!0,i&&g();break;case e.optionalmarker[1]:case e.groupmarker[1]:w();break;case e.optionalmarker[0]:p.push(new s.default(!1,!0));break;case e.groupmarker[0]:p.push(new s.default(!0));break;case e.quantifiermarker[0]:var D=new s.default(!1,!1,!0),_=(a=a.replace(/[{}?]/g,"")).split("|"),B=_[0].split(","),x=isNaN(B[0])?B[0]:parseInt(B[0]),E=1===B.length?x:isNaN(B[1])?B[1]:parseInt(B[1]),K=isNaN(_[1])?_[1]:parseInt(_[1]);"*"!==x&&"+"!==x||(x="*"===E?0:1),D.quantifier={min:x,max:E,jit:K};var M=p.length>0?p[p.length-1].matches:v.matches;if((n=M.pop()).isAlternator){M.push(n),M=n.matches;var I=new s.default(!0),S=M.pop();M.push(I),M=I.matches,n=S}n.isGroup||(n=C([n])),M.push(n),M.push(D);break;case e.alternatormarker:if(p.length>0){var A=(h=p[p.length-1]).matches[h.matches.length-1];l=h.openGroup&&(void 0===A.matches||!1===A.isGroup&&!1===A.isAlternator)?p.pop():k(h.matches)}else l=k(v.matches);if(l.isAlternator)p.push(l);else if(l.alternatorGroup?(u=p.pop(),l.alternatorGroup=!1):u=new s.default(!1,!1,!1,!0),u.matches.push(l),p.push(u),l.openGroup){l.openGroup=!1;var O=new s.default(!0);O.alternatorGroup=!0,p.push(O)}break;default:g()}}for(b&&w();p.length>0;)o=p.pop(),v.matches.push(o);return v.matches.length>0&&(function t(n){n&&n.matches&&n.matches.forEach((function(s,r){var a=n.matches[r+1];(void 0===a||void 0===a.matches||!1===a.isQuantifier)&&s&&s.isGroup&&(s.isGroup=!1,i||(y(s,e.groupmarker[0],0),!0!==s.openGroup&&y(s,e.groupmarker[1]))),t(s)}))}(v),m.push(v)),(e.numericInput||e.isRTL)&&function t(i){for(var n in i.matches=i.matches.reverse(),i.matches)if(Object.prototype.hasOwnProperty.call(i.matches,n)){var s=parseInt(n);if(i.matches[n].isQuantifier&&i.matches[s+1]&&i.matches[s+1].isGroup){var r=i.matches[n];i.matches.splice(n,1),i.matches.splice(s+1,0,r)}i.matches[n]=void 0!==i.matches[n].matches?t(i.matches[n]):((a=i.matches[n])===e.optionalmarker[0]?a=e.optionalmarker[1]:a===e.optionalmarker[1]?a=e.optionalmarker[0]:a===e.groupmarker[0]?a=e.groupmarker[1]:a===e.groupmarker[1]&&(a=e.groupmarker[0]),a)}var a;return i}(m[0]),m},i.generateMaskSet=function(t,i){var e;function s(t,e,s){var a,o,h=!1;return null!==t&&""!==t||((h=null!==s.regex)?t=(t=s.regex).replace(/^(\^)(.*)(\$)$/,"$2"):(h=!0,t=".*")),1===t.length&&!1===s.greedy&&0!==s.repeat&&(s.placeholder=""),(s.repeat>0||"*"===s.repeat||"+"===s.repeat)&&(t=s.groupmarker[0]+t+s.groupmarker[1]+s.quantifiermarker[0]+("*"===s.repeat?0:"+"===s.repeat?1:s.repeat)+","+s.repeat+s.quantifiermarker[1]),o=h?"regex_"+s.regex:s.numericInput?t.split("").reverse().join(""):t,null!==s.keepStatic&&(o="ks_"+s.keepStatic+o),void 0===r.default.prototype.masksCache[o]||!0===i?(a={mask:t,maskToken:r.default.prototype.analyseMask(t,h,s),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},excludes:{},metadata:e,maskLength:void 0,jitOffset:{}},!0!==i&&(r.default.prototype.masksCache[o]=a,a=n.default.extend(!0,{},r.default.prototype.masksCache[o]))):a=n.default.extend(!0,{},r.default.prototype.masksCache[o]),a}if("function"==typeof t.mask&&(t.mask=t.mask(t)),Array.isArray(t.mask)){if(t.mask.length>1){null===t.keepStatic&&(t.keepStatic=!0);var a=t.groupmarker[0];return(t.isRTL?t.mask.reverse():t.mask).forEach((function(i){a.length>1&&(a+=t.alternatormarker),a+=void 0!==i.mask&&"function"!=typeof i.mask?i.mask:i})),s(a+=t.groupmarker[1],t.mask,t)}t.mask=t.mask.pop()}return e=s(t.mask&&void 0!==t.mask.mask&&"function"!=typeof t.mask.mask?t.mask.mask:t.mask,t.mask,t),null===t.keepStatic&&(t.keepStatic=!1),e};var n=a(e(4963)),s=a(e(9695)),r=a(e(2394));function a(t){return t&&t.__esModule?t:{default:t}}},157:function(t,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.mask=function(){var t=this,i=this.opts,e=this.el,n=this.dependencyLib;o.EventRuler.off(e);var c=function(i,e){"textarea"!==i.tagName.toLowerCase()&&e.ignorables.push(s.default.ENTER);var h=i.getAttribute("type"),u="input"===i.tagName.toLowerCase()&&e.supportsInputType.includes(h)||i.isContentEditable||"textarea"===i.tagName.toLowerCase();if(!u)if("input"===i.tagName.toLowerCase()){var l=document.createElement("input");l.setAttribute("type",h),u="text"===l.type,l=null}else u="partial";return!1!==u?function(i){var s,h;function u(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==r.getLastValidPosition.call(t)||!0!==e.nullable?(this.inputmask.shadowRoot||this.ownerDocument).activeElement===this&&e.clearMaskOnLostFocus?(t.isRTL?a.clearOptionalTail.call(t,r.getBuffer.call(t).slice()).reverse():a.clearOptionalTail.call(t,r.getBuffer.call(t).slice())).join(""):s.call(this):"":s.call(this)}function l(t){h.call(this,t),this.inputmask&&(0,a.applyInputValue)(this,t)}if(!i.inputmask.__valueGet){if(!0!==e.noValuePatching){if(Object.getOwnPropertyDescriptor){var c=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(i),"value"):void 0;c&&c.get&&c.set?(s=c.get,h=c.set,Object.defineProperty(i,"value",{get:u,set:l,configurable:!0})):"input"!==i.tagName.toLowerCase()&&(s=function(){return this.textContent},h=function(t){this.textContent=t},Object.defineProperty(i,"value",{get:u,set:l,configurable:!0}))}else document.__lookupGetter__&&i.__lookupGetter__("value")&&(s=i.__lookupGetter__("value"),h=i.__lookupSetter__("value"),i.__defineGetter__("value",u),i.__defineSetter__("value",l));i.inputmask.__valueGet=s,i.inputmask.__valueSet=h}i.inputmask._valueGet=function(i){return t.isRTL&&!0!==i?s.call(this.el).split("").reverse().join(""):s.call(this.el)},i.inputmask._valueSet=function(i,e){h.call(this.el,null==i?"":!0!==e&&t.isRTL?i.split("").reverse().join(""):i)},void 0===s&&(s=function(){return this.value},h=function(t){this.value=t},function(i){if(n.valHooks&&(void 0===n.valHooks[i]||!0!==n.valHooks[i].inputmaskpatch)){var s=n.valHooks[i]&&n.valHooks[i].get?n.valHooks[i].get:function(t){return t.value},o=n.valHooks[i]&&n.valHooks[i].set?n.valHooks[i].set:function(t,i){return t.value=i,t};n.valHooks[i]={get:function(i){if(i.inputmask){if(i.inputmask.opts.autoUnmask)return i.inputmask.unmaskedvalue();var n=s(i);return-1!==r.getLastValidPosition.call(t,void 0,void 0,i.inputmask.maskset.validPositions)||!0!==e.nullable?n:""}return s(i)},set:function(t,i){var e=o(t,i);return t.inputmask&&(0,a.applyInputValue)(t,i),e},inputmaskpatch:!0}}}(i.type),function(i){o.EventRuler.on(i,"mouseenter",(function(){var i=this.inputmask._valueGet(!0);i!==(t.isRTL?r.getBuffer.call(t).reverse():r.getBuffer.call(t)).join("")&&(0,a.applyInputValue)(this,i)}))}(i))}}(i):i.inputmask=void 0,u}(e,i);if(!1!==c){t.originalPlaceholder=e.placeholder,t.maxLength=void 0!==e?e.maxLength:void 0,-1===t.maxLength&&(t.maxLength=void 0),"inputMode"in e&&null===e.getAttribute("inputmode")&&(e.inputMode=i.inputmode,e.setAttribute("inputmode",i.inputmode)),!0===c&&(i.showMaskOnFocus=i.showMaskOnFocus&&-1===["cc-number","cc-exp"].indexOf(e.autocomplete),h.iphone&&(i.insertModeVisual=!1),o.EventRuler.on(e,"submit",l.EventHandlers.submitEvent),o.EventRuler.on(e,"reset",l.EventHandlers.resetEvent),o.EventRuler.on(e,"blur",l.EventHandlers.blurEvent),o.EventRuler.on(e,"focus",l.EventHandlers.focusEvent),o.EventRuler.on(e,"invalid",l.EventHandlers.invalidEvent),o.EventRuler.on(e,"click",l.EventHandlers.clickEvent),o.EventRuler.on(e,"mouseleave",l.EventHandlers.mouseleaveEvent),o.EventRuler.on(e,"mouseenter",l.EventHandlers.mouseenterEvent),o.EventRuler.on(e,"paste",l.EventHandlers.pasteEvent),o.EventRuler.on(e,"cut",l.EventHandlers.cutEvent),o.EventRuler.on(e,"complete",i.oncomplete),o.EventRuler.on(e,"incomplete",i.onincomplete),o.EventRuler.on(e,"cleared",i.oncleared),!0!==i.inputEventOnly&&(o.EventRuler.on(e,"keydown",l.EventHandlers.keydownEvent),o.EventRuler.on(e,"keypress",l.EventHandlers.keypressEvent),o.EventRuler.on(e,"keyup",l.EventHandlers.keyupEvent)),(h.mobile||i.inputEventOnly)&&e.removeAttribute("maxLength"),o.EventRuler.on(e,"input",l.EventHandlers.inputFallBackEvent),o.EventRuler.on(e,"compositionend",l.EventHandlers.compositionendEvent)),o.EventRuler.on(e,"setvalue",l.EventHandlers.setValueEvent),r.getBufferTemplate.call(t).join(""),t.undoValue=t._valueGet(!0);var d=(e.inputmask.shadowRoot||e.ownerDocument).activeElement;if(""!==e.inputmask._valueGet(!0)||!1===i.clearMaskOnLostFocus||d===e){(0,a.applyInputValue)(e,e.inputmask._valueGet(!0),i);var f=r.getBuffer.call(t).slice();!1===u.isComplete.call(t,f)&&i.clearIncomplete&&r.resetMaskSet.call(t),i.clearMaskOnLostFocus&&d!==e&&(-1===r.getLastValidPosition.call(t)?f=[]:a.clearOptionalTail.call(t,f)),(!1===i.clearMaskOnLostFocus||i.showMaskOnFocus&&d===e||""!==e.inputmask._valueGet(!0))&&(0,a.writeBuffer)(e,f),d===e&&r.caret.call(t,e,r.seekNext.call(t,r.getLastValidPosition.call(t)))}}};var n,s=(n=e(5581))&&n.__esModule?n:{default:n},r=e(8711),a=e(7760),o=e(9716),h=e(9845),u=e(7215),l=e(6030)},9695:function(t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t,i,e,n){this.matches=[],this.openGroup=t||!1,this.alternatorGroup=!1,this.isGroup=t||!1,this.isOptional=i||!1,this.isQuantifier=e||!1,this.isAlternator=n||!1,this.quantifier={min:1,max:1}}},3194:function(){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,i){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if(0===n)return!1;for(var s=0|i,r=Math.max(s>=0?s:n-Math.abs(s),0);r<n;){if(e[r]===t)return!0;r++}return!1}})},7149:function(){function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(i)}"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===t("test".__proto__)?function(t){return t.__proto__}:function(t){return t.constructor.prototype})},8711:function(t,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.caret=function(t,i,e,n,s){var r,a=this,o=this.opts;if(void 0===i)return"selectionStart"in t&&"selectionEnd"in t?(i=t.selectionStart,e=t.selectionEnd):window.getSelection?(r=window.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==t&&r.commonAncestorContainer!==t||(i=r.startOffset,e=r.endOffset):document.selection&&document.selection.createRange&&(e=(i=0-(r=document.selection.createRange()).duplicate().moveStart("character",-t.inputmask._valueGet().length))+r.text.length),{begin:n?i:u.call(a,i),end:n?e:u.call(a,e)};if(Array.isArray(i)&&(e=a.isRTL?i[0]:i[1],i=a.isRTL?i[1]:i[0]),void 0!==i.begin&&(e=a.isRTL?i.begin:i.end,i=a.isRTL?i.end:i.begin),"number"==typeof i){i=n?i:u.call(a,i),e="number"==typeof(e=n?e:u.call(a,e))?e:i;var h=parseInt(((t.ownerDocument.defaultView||window).getComputedStyle?(t.ownerDocument.defaultView||window).getComputedStyle(t,null):t.currentStyle).fontSize)*e;if(t.scrollLeft=h>t.scrollWidth?h:0,t.inputmask.caretPos={begin:i,end:e},o.insertModeVisual&&!1===o.insertMode&&i===e&&(s||e++),t===(t.inputmask.shadowRoot||t.ownerDocument).activeElement)if("setSelectionRange"in t)t.setSelectionRange(i,e);else if(window.getSelection){if(r=document.createRange(),null==t.firstChild){var l=document.createTextNode("");t.appendChild(l)}r.setStart(t.firstChild,i<t.inputmask._valueGet().length?i:t.inputmask._valueGet().length),r.setEnd(t.firstChild,e<t.inputmask._valueGet().length?e:t.inputmask._valueGet().length),r.collapse(!0);var c=window.getSelection();c.removeAllRanges(),c.addRange(r)}else t.createTextRange&&((r=t.createTextRange()).collapse(!0),r.moveEnd("character",e),r.moveStart("character",i),r.select())}},i.determineLastRequiredPosition=function(t){var i,e,r=this,o=this.maskset,h=this.dependencyLib,u=n.getMaskTemplate.call(r,!0,a.call(r),!0,!0),l=u.length,c=a.call(r),d={},f=o.validPositions[c],v=void 0!==f?f.locator.slice():void 0;for(i=c+1;i<u.length;i++)v=(e=n.getTestTemplate.call(r,i,v,i-1)).locator.slice(),d[i]=h.extend(!0,{},e);var p=f&&void 0!==f.alternation?f.locator[f.alternation]:void 0;for(i=l-1;i>c&&((e=d[i]).match.optionality||e.match.optionalQuantifier&&e.match.newBlockMarker||p&&(p!==d[i].locator[f.alternation]&&1!=e.match.static||!0===e.match.static&&e.locator[f.alternation]&&s.checkAlternationMatch.call(r,e.locator[f.alternation].toString().split(","),p.toString().split(","))&&""!==n.getTests.call(r,i)[0].def))&&u[i]===n.getPlaceholder.call(r,i,e.match);i--)l--;return t?{l,def:d[l]?d[l].match:void 0}:l},i.determineNewCaretPosition=function(t,i,e){var s=this,u=this.maskset,l=this.opts;if(i&&(s.isRTL?t.end=t.begin:t.begin=t.end),t.begin===t.end){switch(e=e||l.positionCaretOnClick){case"none":break;case"select":t={begin:0,end:r.call(s).length};break;case"ignore":t.end=t.begin=h.call(s,a.call(s));break;case"radixFocus":if(function(t){if(""!==l.radixPoint&&0!==l.digits){var i=u.validPositions;if(void 0===i[t]||i[t].input===n.getPlaceholder.call(s,t)){if(t<h.call(s,-1))return!0;var e=r.call(s).indexOf(l.radixPoint);if(-1!==e){for(var a in i)if(i[a]&&e<a&&i[a].input!==n.getPlaceholder.call(s,a))return!1;return!0}}}return!1}(t.begin)){var c=r.call(s).join("").indexOf(l.radixPoint);t.end=t.begin=l.numericInput?h.call(s,c):c;break}default:var d=t.begin,f=a.call(s,d,!0),v=h.call(s,-1!==f||o.call(s,0)?f:-1);if(d<=v)t.end=t.begin=o.call(s,d,!1,!0)?d:h.call(s,d);else{var p=u.validPositions[f],m=n.getTestTemplate.call(s,v,p?p.match.locator:void 0,p),b=n.getPlaceholder.call(s,v,m.match);if(""!==b&&r.call(s)[v]!==b&&!0!==m.match.optionalQuantifier&&!0!==m.match.newBlockMarker||!o.call(s,v,l.keepStatic,!0)&&m.match.def===b){var y=h.call(s,v);(d>=y||d===v)&&(v=y)}t.end=t.begin=v}}return t}},i.getBuffer=r,i.getBufferTemplate=function(){var t=this.maskset;return void 0===t._buffer&&(t._buffer=n.getMaskTemplate.call(this,!1,1),void 0===t.buffer&&(t.buffer=t._buffer.slice())),t._buffer},i.getLastValidPosition=a,i.isMask=o,i.resetMaskSet=function(t){var i=this.maskset;i.buffer=void 0,!0!==t&&(i.validPositions={},i.p=0)},i.seekNext=h,i.seekPrevious=function(t,i){var e=this,s=t-1;if(t<=0)return 0;for(;s>0&&(!0===i&&(!0!==n.getTest.call(e,s).match.newBlockMarker||!o.call(e,s,void 0,!0))||!0!==i&&!o.call(e,s,void 0,!0));)s--;return s},i.translatePosition=u;var n=e(4713),s=e(7215);function r(t){var i=this.maskset;return void 0!==i.buffer&&!0!==t||(i.buffer=n.getMaskTemplate.call(this,!0,a.call(this),!0),void 0===i._buffer&&(i._buffer=i.buffer.slice())),i.buffer}function a(t,i,e){var n=-1,s=-1,r=e||this.maskset.validPositions;for(var a in void 0===t&&(t=-1),r){var o=parseInt(a);r[o]&&(i||!0!==r[o].generatedInput)&&(o<=t&&(n=o),o>=t&&(s=o))}return-1===n||n==t?s:-1==s||t-n<s-t?n:s}function o(t,i,e){var s=this,r=this.maskset,a=n.getTestTemplate.call(s,t).match;if(""===a.def&&(a=n.getTest.call(s,t).match),!0!==a.static)return a.fn;if(!0===e&&void 0!==r.validPositions[t]&&!0!==r.validPositions[t].generatedInput)return!0;if(!0!==i&&t>-1){if(e){var o=n.getTests.call(s,t);return o.length>1+(""===o[o.length-1].match.def?1:0)}var h=n.determineTestTemplate.call(s,t,n.getTests.call(s,t)),u=n.getPlaceholder.call(s,t,h.match);return h.match.def!==u}return!1}function h(t,i,e){var s=this;void 0===e&&(e=!0);for(var r=t+1;""!==n.getTest.call(s,r).match.def&&(!0===i&&(!0!==n.getTest.call(s,r).match.newBlockMarker||!o.call(s,r,void 0,!0))||!0!==i&&!o.call(s,r,void 0,e));)r++;return r}function u(t){var i=this.opts;return!this.isRTL||"number"!=typeof t||i.greedy&&""===i.placeholder||!this.el||(t=Math.abs(this._valueGet().length-t)),t}},4713:function(t,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.determineTestTemplate=u,i.getDecisionTaker=a,i.getMaskTemplate=function(t,i,e,n,s){var r=this,a=this.opts,l=this.maskset,c=a.greedy;s&&a.greedy&&(a.greedy=!1,r.maskset.tests={}),i=i||0;var f,v,p,m,b=[],y=0;do{if(!0===t&&l.validPositions[y])v=(p=s&&l.validPositions[y].match.optionality&&void 0===l.validPositions[y+1]&&(!0===l.validPositions[y].generatedInput||l.validPositions[y].input==a.skipOptionalPartCharacter&&y>0)?u.call(r,y,d.call(r,y,f,y-1)):l.validPositions[y]).match,f=p.locator.slice(),b.push(!0===e?p.input:!1===e?v.nativeDef:o.call(r,y,v));else{v=(p=h.call(r,y,f,y-1)).match,f=p.locator.slice();var g=!0!==n&&(!1!==a.jitMasking?a.jitMasking:v.jit);(m=(m&&v.static&&v.def!==a.groupSeparator&&null===v.fn||l.validPositions[y-1]&&v.static&&v.def!==a.groupSeparator&&null===v.fn)&&l.tests[y]&&1===l.tests[y].length)||!1===g||void 0===g||"number"==typeof g&&isFinite(g)&&g>y?b.push(!1===e?v.nativeDef:o.call(r,y,v)):m=!1}y++}while(!0!==v.static||""!==v.def||i>y);return""===b[b.length-1]&&b.pop(),!1===e&&void 0!==l.maskLength||(l.maskLength=y-1),a.greedy=c,b},i.getPlaceholder=o,i.getTest=l,i.getTestTemplate=h,i.getTests=d,i.isSubsetOf=c;var n,s=(n=e(2394))&&n.__esModule?n:{default:n};function r(t,i){var e=(null!=t.alternation?t.mloc[a(t)]:t.locator).join("");if(""!==e)for(;e.length<i;)e+="0";return e}function a(t){var i=t.locator[t.alternation];return"string"==typeof i&&i.length>0&&(i=i.split(",")[0]),void 0!==i?i.toString():""}function o(t,i,e){var n=this.opts,s=this.maskset;if(void 0!==(i=i||l.call(this,t).match).placeholder||!0===e)return"function"==typeof i.placeholder?i.placeholder(n):i.placeholder;if(!0===i.static){if(t>-1&&void 0===s.validPositions[t]){var r,a=d.call(this,t),o=[];if(a.length>1+(""===a[a.length-1].match.def?1:0))for(var h=0;h<a.length;h++)if(""!==a[h].match.def&&!0!==a[h].match.optionality&&!0!==a[h].match.optionalQuantifier&&(!0===a[h].match.static||void 0===r||!1!==a[h].match.fn.test(r.match.def,s,t,!0,n))&&(o.push(a[h]),!0===a[h].match.static&&(r=a[h]),o.length>1&&/[0-9a-bA-Z]/.test(o[0].match.def)))return n.placeholder.charAt(t%n.placeholder.length)}return i.def}return n.placeholder.charAt(t%n.placeholder.length)}function h(t,i,e){return this.maskset.validPositions[t]||u.call(this,t,d.call(this,t,i?i.slice():i,e))}function u(t,i){var e,n,s,a=this.opts,o=function(t,i){var e=0,n=!1;return i.forEach((function(t){t.match.optionality&&(0!==e&&e!==t.match.optionality&&(n=!0),(0===e||e>t.match.optionality)&&(e=t.match.optionality))})),e&&(0==t||1==i.length?e=0:n||(e=0)),e}(t,i),h=r(l.call(this,t=t>0?t-1:0));a.greedy&&i.length>1&&""===i[i.length-1].match.def&&i.pop();for(var u=0;u<i.length;u++){var c=i[u];e=r(c,h.length);var d=Math.abs(e-h);(void 0===n||""!==e&&d<n||s&&!a.greedy&&s.match.optionality&&s.match.optionality-o>0&&"master"===s.match.newBlockMarker&&(!c.match.optionality||c.match.optionality-o<1||!c.match.newBlockMarker)||s&&!a.greedy&&s.match.optionalQuantifier&&!c.match.optionalQuantifier)&&(n=d,s=c)}return s}function l(t,i){var e=this.maskset;return e.validPositions[t]?e.validPositions[t]:(i||d.call(this,t))[0]}function c(t,i,e){function n(t){for(var i,e=[],n=-1,s=0,r=t.length;s<r;s++)if("-"===t.charAt(s))for(i=t.charCodeAt(s+1);++n<i;)e.push(String.fromCharCode(n));else n=t.charCodeAt(s),e.push(t.charAt(s));return e.join("")}return t.match.def===i.match.nativeDef||!(!(e.regex||t.match.fn instanceof RegExp&&i.match.fn instanceof RegExp)||!0===t.match.static||!0===i.match.static)&&-1!==n(i.match.fn.toString().replace(/[[\]/]/g,"")).indexOf(n(t.match.fn.toString().replace(/[[\]/]/g,"")))}function d(t,i,e){var n,r,a=this,o=this.dependencyLib,h=this.maskset,l=this.opts,d=this.el,f=h.maskToken,v=i?e:0,p=i?i.slice():[0],m=[],b=!1,y=i?i.join(""):"";function g(i,e,r,a){function o(r,a,u){function f(t,i){var e=0===i.matches.indexOf(t);return e||i.matches.every((function(n,s){return!0===n.isQuantifier?e=f(t,i.matches[s-1]):Object.prototype.hasOwnProperty.call(n,"matches")&&(e=f(t,n)),!e})),e}function p(t,i,e){var n,s;return(h.tests[t]||h.validPositions[t])&&(h.tests[t]||[h.validPositions[t]]).every((function(t){if(t.mloc[i])return n=t,!1;var r=void 0!==e?e:t.alternation,a=void 0!==t.locator[r]?t.locator[r].toString().indexOf(i):-1;return(void 0===s||a<s)&&-1!==a&&(n=t,s=a),!0})),n?(n.mloc[i]||n.mloc[n.locator[n.alternation]]||n.locator).slice((void 0!==e?e:n.alternation)+1):void 0!==e?p(t,i):void 0}function C(t,i){var e=t.alternation,n=void 0===i||e===i.alternation&&-1===t.locator[e].toString().indexOf(i.locator[e]);if(!n&&e>i.alternation)for(var s=i.alternation;s<e;s++)if(t.locator[s]!==i.locator[s]){e=s,n=!0;break}if(n){t.mloc=t.mloc||{};var r=t.locator[e];if(void 0!==r){if("string"==typeof r&&(r=r.split(",")[0]),void 0===t.mloc[r]&&(t.mloc[r]=t.locator.slice()),void 0!==i){for(var a in i.mloc)"string"==typeof a&&(a=a.split(",")[0]),void 0===t.mloc[a]&&(t.mloc[a]=i.mloc[a]);t.locator[e]=Object.keys(t.mloc).join(",")}return!0}t.alternation=void 0}return!1}function w(t,i){if(t.locator.length!==i.locator.length)return!1;for(var e=t.alternation+1;e<t.locator.length;e++)if(t.locator[e]!==i.locator[e])return!1;return!0}if(v>t+l._maxTestPos)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+h.mask;if(v===t&&void 0===r.matches){if(m.push({match:r,locator:a.reverse(),cd:y,mloc:{}}),!r.optionality||void 0!==u||!(l.definitions&&l.definitions[r.nativeDef]&&l.definitions[r.nativeDef].optional||s.default.prototype.definitions[r.nativeDef]&&s.default.prototype.definitions[r.nativeDef].optional))return!0;b=!0,v=t}else if(void 0!==r.matches){if(r.isGroup&&u!==r){if(r=o(i.matches[i.matches.indexOf(r)+1],a,u))return!0}else if(r.isOptional){var k=r,T=m.length;if(r=g(r,e,a,u)){if(m.forEach((function(t,i){i>=T&&(t.match.optionality=t.match.optionality?t.match.optionality+1:1)})),n=m[m.length-1].match,void 0!==u||!f(n,k))return!0;b=!0,v=t}}else if(r.isAlternator){var D,_=r,B=[],x=m.slice(),E=a.length,K=!1,M=e.length>0?e.shift():-1;if(-1===M||"string"==typeof M){var I,S=v,A=e.slice(),O=[];if("string"==typeof M)O=M.split(",");else for(I=0;I<_.matches.length;I++)O.push(I.toString());if(void 0!==h.excludes[t]){for(var j=O.slice(),F=0,N=h.excludes[t].length;F<N;F++){var P=h.excludes[t][F].toString().split(":");a.length==P[1]&&O.splice(O.indexOf(P[0]),1)}0===O.length&&(delete h.excludes[t],O=j)}(!0===l.keepStatic||isFinite(parseInt(l.keepStatic))&&S>=l.keepStatic)&&(O=O.slice(0,1));for(var R=0;R<O.length;R++){I=parseInt(O[R]),m=[],e="string"==typeof M&&p(v,I,E)||A.slice();var V=_.matches[I];if(V&&o(V,[I].concat(a),u))r=!0;else if(0===R&&(K=!0),V&&V.matches&&V.matches.length>_.matches[0].matches.length)break;D=m.slice(),v=S,m=[];for(var H=0;H<D.length;H++){var U=D[H],W=!1;U.match.jit=U.match.jit||K,U.alternation=U.alternation||E,C(U);for(var L=0;L<B.length;L++){var $=B[L];if("string"!=typeof M||void 0!==U.alternation&&O.includes(U.locator[U.alternation].toString())){if(U.match.nativeDef===$.match.nativeDef){W=!0,C($,U);break}if(c(U,$,l)){C(U,$)&&(W=!0,B.splice(B.indexOf($),0,U));break}if(c($,U,l)){C($,U);break}if(q=$,!0===(G=U).match.static&&!0!==q.match.static&&q.match.fn.test(G.match.def,h,t,!1,l,!1)){w(U,$)||void 0!==d.inputmask.userOptions.keepStatic?C(U,$)&&(W=!0,B.splice(B.indexOf($),0,U)):l.keepStatic=!0;break}}}W||B.push(U)}}m=x.concat(B),v=t,b=m.length>0,r=B.length>0,e=A.slice()}else r=o(_.matches[M]||i.matches[M],[M].concat(a),u);if(r)return!0}else if(r.isQuantifier&&u!==i.matches[i.matches.indexOf(r)-1])for(var Z=r,z=e.length>0?e.shift():0;z<(isNaN(Z.quantifier.max)?z+1:Z.quantifier.max)&&v<=t;z++){var J=i.matches[i.matches.indexOf(Z)-1];if(r=o(J,[z].concat(a),J)){if((n=m[m.length-1].match).optionalQuantifier=z>=Z.quantifier.min,n.jit=(z+1)*(J.matches.indexOf(n)+1)>Z.quantifier.jit,n.optionalQuantifier&&f(n,J)){b=!0,v=t;break}return n.jit&&(h.jitOffset[t]=J.matches.length-J.matches.indexOf(n)),!0}}else if(r=g(r,e,a,u))return!0}else v++;var G,q}for(var u=e.length>0?e.shift():0;u<i.matches.length;u++)if(!0!==i.matches[u].isQuantifier){var f=o(i.matches[u],[u].concat(r),a);if(f&&v===t)return f;if(v>t)break}}if(t>-1){if(void 0===i){for(var C,w=t-1;void 0===(C=h.validPositions[w]||h.tests[w])&&w>-1;)w--;void 0!==C&&w>-1&&(p=function(t,i){var e,n=[];return Array.isArray(i)||(i=[i]),i.length>0&&(void 0===i[0].alternation||!0===l.keepStatic?0===(n=u.call(a,t,i.slice()).locator.slice()).length&&(n=i[0].locator.slice()):i.forEach((function(t){""!==t.def&&(0===n.length?(e=t.alternation,n=t.locator.slice()):t.locator[e]&&-1===n[e].toString().indexOf(t.locator[e])&&(n[e]+=","+t.locator[e]))}))),n}(w,C),y=p.join(""),v=w)}if(h.tests[t]&&h.tests[t][0].cd===y)return h.tests[t];for(var k=p.shift();k<f.length&&!(g(f[k],p,[k])&&v===t||v>t);k++);}return(0===m.length||b)&&m.push({match:{fn:null,static:!0,optionality:!1,casing:null,def:"",placeholder:""},locator:[],mloc:{},cd:y}),void 0!==i&&h.tests[t]?r=o.extend(!0,[],m):(h.tests[t]=o.extend(!0,[],m),r=h.tests[t]),m.forEach((function(t){t.match.optionality=!1})),r}},7215:function(t,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.alternate=h,i.checkAlternationMatch=function(t,i,e){for(var n,s=this.opts.greedy?i:i.slice(0,1),r=!1,a=void 0!==e?e.split(","):[],o=0;o<a.length;o++)-1!==(n=t.indexOf(a[o]))&&t.splice(n,1);for(var h=0;h<t.length;h++)if(s.includes(t[h])){r=!0;break}return r},i.handleRemove=function(t,i,e,n){var o=this,u=this.maskset,l=this.opts;if((l.numericInput||o.isRTL)&&(i===r.default.BACKSPACE?i=r.default.DELETE:i===r.default.DELETE&&(i=r.default.BACKSPACE),o.isRTL)){var c=e.end;e.end=e.begin,e.begin=c}var d,f=a.getLastValidPosition.call(o,void 0,!0);if(e.end>=a.getBuffer.call(o).length&&f>=e.end&&(e.end=f+1),i===r.default.BACKSPACE?e.end-e.begin<1&&(e.begin=a.seekPrevious.call(o,e.begin)):i===r.default.DELETE&&e.begin===e.end&&(e.end=a.isMask.call(o,e.end,!0,!0)?e.end+1:a.seekNext.call(o,e.end)+1),!1!==(d=m.call(o,e))){if(!0!==n&&!1!==l.keepStatic||null!==l.regex&&-1!==s.getTest.call(o,e.begin).match.def.indexOf("|")){var v=h.call(o,!0);v&&(void 0!==v.caret||(v.pos?a.seekNext.call(o,v.pos.begin?v.pos.begin:v.pos):a.getLastValidPosition.call(o,-1,!0)))}!0!==n&&(u.p=i===r.default.DELETE?e.begin+d:e.begin,u.p=a.determineNewCaretPosition.call(o,{begin:u.p,end:u.p},!1,!1===l.insertMode&&i===r.default.BACKSPACE?"none":void 0).begin)}},i.isComplete=l,i.isSelection=c,i.isValid=d,i.refreshFromBuffer=v,i.revalidateMask=m;var n,s=e(4713),r=(n=e(5581))&&n.__esModule?n:{default:n},a=e(8711),o=e(6030);function h(t,i,e,n,r,o){var u,l,c,f,v,p,m,b,y,g,C=this,w=this.dependencyLib,k=this.opts,T=C.maskset,D=w.extend(!0,{},T.validPositions),_=w.extend(!0,{},T.tests),B=!1,x=!1,E=void 0!==r?r:a.getLastValidPosition.call(C);if(o&&(y=o.begin,g=o.end,o.begin>o.end&&(y=o.end,g=o.begin)),-1===E&&void 0===r)l=(f=s.getTest.call(C,u=0)).alternation;else for(;E>=0;E--)if((c=T.validPositions[E])&&void 0!==c.alternation){if(f&&f.locator[c.alternation]!==c.locator[c.alternation])break;l=T.validPositions[u=E].alternation,f=c}if(void 0!==l){m=parseInt(u),T.excludes[m]=T.excludes[m]||[],!0!==t&&T.excludes[m].push((0,s.getDecisionTaker)(f)+":"+f.alternation);var K=[],M=-1;for(v=m;v<a.getLastValidPosition.call(C,void 0,!0)+1;v++)-1===M&&t<=v&&void 0!==i&&(K.push(i),M=K.length-1),(p=T.validPositions[v])&&!0!==p.generatedInput&&(void 0===o||v<y||v>=g)&&K.push(p.input),delete T.validPositions[v];for(-1===M&&void 0!==i&&(K.push(i),M=K.length-1);void 0!==T.excludes[m]&&T.excludes[m].length<10;){for(T.tests={},a.resetMaskSet.call(C,!0),B=!0,v=0;v<K.length&&(b=B.caret||a.getLastValidPosition.call(C,void 0,!0)+1,B=d.call(C,b,K[v],!1,n,!0));v++)v===M&&(x=B),1==t&&B&&(x={caretPos:v});if(B)break;if(a.resetMaskSet.call(C),f=s.getTest.call(C,m),T.validPositions=w.extend(!0,{},D),T.tests=w.extend(!0,{},_),!T.excludes[m]){x=h.call(C,t,i,e,n,m-1,o);break}var I=(0,s.getDecisionTaker)(f);if(-1!==T.excludes[m].indexOf(I+":"+f.alternation)){x=h.call(C,t,i,e,n,m-1,o);break}for(T.excludes[m].push(I+":"+f.alternation),v=m;v<a.getLastValidPosition.call(C,void 0,!0)+1;v++)delete T.validPositions[v]}}return x&&!1===k.keepStatic||delete T.excludes[m],x}function u(t,i,e){var n=this.opts,s=this.maskset;switch(n.casing||i.casing){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase();break;case"title":var a=s.validPositions[e-1];t=0===e||a&&a.input===String.fromCharCode(r.default.SPACE)?t.toUpperCase():t.toLowerCase();break;default:if("function"==typeof n.casing){var o=Array.prototype.slice.call(arguments);o.push(s.validPositions),t=n.casing.apply(this,o)}}return t}function l(t){var i=this,e=this.opts,n=this.maskset;if("function"==typeof e.isComplete)return e.isComplete(t,e);if("*"!==e.repeat){var r=!1,o=a.determineLastRequiredPosition.call(i,!0),h=a.seekPrevious.call(i,o.l);if(void 0===o.def||o.def.newBlockMarker||o.def.optionality||o.def.optionalQuantifier){r=!0;for(var u=0;u<=h;u++){var l=s.getTestTemplate.call(i,u).match;if(!0!==l.static&&void 0===n.validPositions[u]&&!0!==l.optionality&&!0!==l.optionalQuantifier||!0===l.static&&t[u]!==s.getPlaceholder.call(i,u,l)){r=!1;break}}}return r}}function c(t){var i=this.opts.insertMode?0:1;return this.isRTL?t.begin-t.end>i:t.end-t.begin>i}function d(t,i,e,n,r,o,f){var b=this,y=this.dependencyLib,g=this.opts,C=b.maskset;e=!0===e;var w=t;function k(t){if(void 0!==t){if(void 0!==t.remove&&(Array.isArray(t.remove)||(t.remove=[t.remove]),t.remove.sort((function(t,i){return i.pos-t.pos})).forEach((function(t){m.call(b,{begin:t,end:t+1})})),t.remove=void 0),void 0!==t.insert&&(Array.isArray(t.insert)||(t.insert=[t.insert]),t.insert.sort((function(t,i){return t.pos-i.pos})).forEach((function(t){""!==t.c&&d.call(b,t.pos,t.c,void 0===t.strict||t.strict,void 0!==t.fromIsValid?t.fromIsValid:n)})),t.insert=void 0),t.refreshFromBuffer&&t.buffer){var i=t.refreshFromBuffer;v.call(b,!0===i?i:i.start,i.end,t.buffer),t.refreshFromBuffer=void 0}void 0!==t.rewritePosition&&(w=t.rewritePosition,t=!0)}return t}function T(i,e,r){var o=!1;return s.getTests.call(b,i).every((function(h){var l=h.match;if(a.getBuffer.call(b,!0),!1!==(o=(!l.jit||void 0!==C.validPositions[a.seekPrevious.call(b,i)])&&(null!=l.fn?l.fn.test(e,C,i,r,g,c.call(b,t)):(e===l.def||e===g.skipOptionalPartCharacter)&&""!==l.def&&{c:s.getPlaceholder.call(b,i,l,!0)||l.def,pos:i}))){var d=void 0!==o.c?o.c:e,f=i;return d=d===g.skipOptionalPartCharacter&&!0===l.static?s.getPlaceholder.call(b,i,l,!0)||l.def:d,!0!==(o=k(o))&&void 0!==o.pos&&o.pos!==i&&(f=o.pos),!0!==o&&void 0===o.pos&&void 0===o.c||!1===m.call(b,t,y.extend({},h,{input:u.call(b,d,l,f)}),n,f)&&(o=!1),!1}return!0})),o}void 0!==t.begin&&(w=b.isRTL?t.end:t.begin);var D=!0,_=y.extend(!0,{},C.validPositions);if(!1===g.keepStatic&&void 0!==C.excludes[w]&&!0!==r&&!0!==n)for(var B=w;B<(b.isRTL?t.begin:t.end);B++)void 0!==C.excludes[B]&&(C.excludes[B]=void 0,delete C.tests[B]);if("function"==typeof g.preValidation&&!0!==n&&!0!==o&&(D=k(D=g.preValidation.call(b,a.getBuffer.call(b),w,i,c.call(b,t),g,C,t,e||r))),!0===D){if(D=T(w,i,e),(!e||!0===n)&&!1===D&&!0!==o){var x=C.validPositions[w];if(!x||!0!==x.match.static||x.match.def!==i&&i!==g.skipOptionalPartCharacter){if(g.insertMode||void 0===C.validPositions[a.seekNext.call(b,w)]||t.end>w){var E=!1;if(C.jitOffset[w]&&void 0===C.validPositions[a.seekNext.call(b,w)]&&!1!==(D=d.call(b,w+C.jitOffset[w],i,!0,!0))&&(!0!==r&&(D.caret=w),E=!0),t.end>w&&(C.validPositions[w]=void 0),!E&&!a.isMask.call(b,w,g.keepStatic&&0===w))for(var K=w+1,M=a.seekNext.call(b,w,!1,0!==w);K<=M;K++)if(!1!==(D=T(K,i,e))){D=p.call(b,w,void 0!==D.pos?D.pos:K)||D,w=K;break}}}else D={caret:a.seekNext.call(b,w)}}!1!==D||!g.keepStatic||!l.call(b,a.getBuffer.call(b))&&0!==w||e||!0===r?c.call(b,t)&&C.tests[w]&&C.tests[w].length>1&&g.keepStatic&&!e&&!0!==r&&(D=h.call(b,!0)):D=h.call(b,w,i,e,n,void 0,t),!0===D&&(D={pos:w})}if("function"==typeof g.postValidation&&!0!==n&&!0!==o){var I=g.postValidation.call(b,a.getBuffer.call(b,!0),void 0!==t.begin?b.isRTL?t.end:t.begin:t,i,D,g,C,e,f);void 0!==I&&(D=!0===I?D:I)}D&&void 0===D.pos&&(D.pos=w),!1===D||!0===o?(a.resetMaskSet.call(b,!0),C.validPositions=y.extend(!0,{},_)):p.call(b,void 0,w,!0);var S=k(D);return void 0!==b.maxLength&&a.getBuffer.call(b).length>b.maxLength&&!n&&(a.resetMaskSet.call(b,!0),C.validPositions=y.extend(!0,{},_),S=!1),S}function f(t,i,e){for(var n=this.maskset,r=!1,a=s.getTests.call(this,t),o=0;o<a.length;o++){if(a[o].match&&(a[o].match.nativeDef===i.match[e.shiftPositions?"def":"nativeDef"]&&(!e.shiftPositions||!i.match.static)||a[o].match.nativeDef===i.match.nativeDef||e.regex&&!a[o].match.static&&a[o].match.fn.test(i.input))){r=!0;break}if(a[o].match&&a[o].match.def===i.match.nativeDef){r=void 0;break}}return!1===r&&void 0!==n.jitOffset[t]&&(r=f.call(this,t+n.jitOffset[t],i,e)),r}function v(t,i,e){var n,s,r=this,h=this.maskset,u=this.opts,l=this.dependencyLib,c=u.skipOptionalPartCharacter,d=r.isRTL?e.slice().reverse():e;if(u.skipOptionalPartCharacter="",!0===t)a.resetMaskSet.call(r),h.tests={},t=0,i=e.length,s=a.determineNewCaretPosition.call(r,{begin:0,end:0},!1).begin;else{for(n=t;n<i;n++)delete h.validPositions[n];s=t}var f=new l.Event("keypress");for(n=t;n<i;n++){f.keyCode=d[n].toString().charCodeAt(0),r.ignorable=!1;var v=o.EventHandlers.keypressEvent.call(r,f,!0,!1,!1,s);!1!==v&&void 0!==v&&(s=v.forwardPosition)}u.skipOptionalPartCharacter=c}function p(t,i,e){var n=this,r=this.maskset,o=this.dependencyLib;if(void 0===t)for(t=i-1;t>0&&!r.validPositions[t];t--);for(var h=t;h<i;h++)if(void 0===r.validPositions[h]&&!a.isMask.call(n,h,!1)&&(0==h?s.getTest.call(n,h):r.validPositions[h-1])){var u=s.getTests.call(n,h).slice();""===u[u.length-1].match.def&&u.pop();var l,c=s.determineTestTemplate.call(n,h,u);if(c&&(!0!==c.match.jit||"master"===c.match.newBlockMarker&&(l=r.validPositions[h+1])&&!0===l.match.optionalQuantifier)&&((c=o.extend({},c,{input:s.getPlaceholder.call(n,h,c.match,!0)||c.match.def})).generatedInput=!0,m.call(n,h,c,!0),!0!==e)){var f=r.validPositions[i].input;return r.validPositions[i]=void 0,d.call(n,i,f,!0,!0)}}}function m(t,i,e,n){var r=this,o=this.maskset,h=this.opts,u=this.dependencyLib;function l(t,i,e){var n=i[t];return void 0!==n&&!0===n.match.static&&!0!==n.match.optionality&&(void 0===i[0]||void 0===i[0].alternation)&&(e.begin<=t-1?i[t-1]&&!0===i[t-1].match.static&&i[t-1]:i[t-1])&&(e.end>t+1?i[t+1]&&!0===i[t+1].match.static&&i[t+1]:i[t+1])}var c=0,v=void 0!==t.begin?t.begin:t,p=void 0!==t.end?t.end:t,m=!0;if(t.begin>t.end&&(v=t.end,p=t.begin),n=void 0!==n?n:v,v!==p||h.insertMode&&void 0!==o.validPositions[n]&&void 0===e||void 0===i||i.match.optionalQuantifier||i.match.optionality){var b,y=u.extend(!0,{},o.validPositions),g=a.getLastValidPosition.call(r,void 0,!0);for(o.p=v,b=g;b>=v;b--)delete o.validPositions[b],void 0===i&&delete o.tests[b+1];var C,w,k=n,T=k;for(i&&(o.validPositions[n]=u.extend(!0,{},i),T++,k++),b=i?p:p-1;b<=g;b++){if(void 0!==(C=y[b])&&!0!==C.generatedInput&&(b>=p||b>=v&&l(b,y,{begin:v,end:p}))){for(;""!==s.getTest.call(r,T).match.def;){if(!1!==(w=f.call(r,T,C,h))||"+"===C.match.def){"+"===C.match.def&&a.getBuffer.call(r,!0);var D=d.call(r,T,C.input,"+"!==C.match.def,!0);if(k=(D.pos||T)+1,!(m=!1!==D)&&w)break}else m=!1;if(m){void 0===i&&C.match.static&&b===t.begin&&c++;break}if(!m&&a.getBuffer.call(r),T>o.maskLength)break;T++}""==s.getTest.call(r,T).match.def&&(m=!1),T=k}if(!m)break}if(!m)return o.validPositions=u.extend(!0,{},y),a.resetMaskSet.call(r,!0),!1}else i&&s.getTest.call(r,n).match.cd===i.match.cd&&(o.validPositions[n]=u.extend(!0,{},i));return a.resetMaskSet.call(r,!0),c}},5581:function(t){t.exports=JSON.parse('{"BACKSPACE":8,"BACKSPACE_SAFARI":127,"DELETE":46,"DOWN":40,"END":35,"ENTER":13,"ESCAPE":27,"HOME":36,"INSERT":45,"LEFT":37,"PAGE_DOWN":34,"PAGE_UP":33,"RIGHT":39,"SPACE":32,"TAB":9,"UP":38,"X":88,"Z":90,"CONTROL":17,"PAUSE/BREAK":19,"WINDOWS_LEFT":91,"WINDOWS_RIGHT":92,"KEY_229":229}')}},i={};function e(n){var s=i[n];if(void 0!==s)return s.exports;var r=i[n]={exports:{}};return t[n](r,r.exports,e),r.exports}var n={};return function(){var t,i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e(3851),e(219),e(207),e(5296);var s=((t=e(2394))&&t.__esModule?t:{default:t}).default;i.default=s}(),n}()}(C={path:undefined,exports:{},require:function(){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}}),C.exports)),k=class{constructor(e){t(this,e),this.inputEvent=i(this,"input",7),this.changeEvent=i(this,"change",7),this.enabled=!0,this.uppercase=!1,this.nativeInput=null,this.SYMBOL_OPTIONAL_DIGIT="Z",this.SYMBOL_OPTIONAL_LETTER="B",this.SYMBOL_DIGIT="9",this.SYMBOL_LETTER="A",this.SYMBOL_CHARACTER="X",this.SYMBOL_ESCAPE="\\",this.SYMBOL_MASK_SEPARATOR=";",this.LANGUAGE_SYMBOLS=[this.SYMBOL_OPTIONAL_DIGIT,this.SYMBOL_OPTIONAL_LETTER,this.SYMBOL_DIGIT,this.SYMBOL_LETTER,this.SYMBOL_CHARACTER,this.SYMBOL_ESCAPE,this.SYMBOL_MASK_SEPARATOR],this.INPUTMASK_SPECIAL_CHARS="a9X[]{}()|\\",this.changeTimeout=null}async getUnformattedValue(){var t,i,e;return null!==(e=null===(i=null===(t=this.nativeInput)||void 0===t?void 0:t.inputmask)||void 0===i?void 0:i.unmaskedvalue())&&void 0!==e?e:""}async getFormattedValue(){var t,i;return null!==(i=null===(t=this.nativeInput)||void 0===t?void 0:t.value)&&void 0!==i?i:""}componentDidLoad(){this.mask&&this.getInputMask().mask(this.nativeInput)}getInputMask(){return w(this.getTransformedMask(this.mask),{numericInput:this.numeric,keepStatic:!0,jitMasking:!0,positionCaretOnTab:!this.numeric,casing:this.uppercase?"upper":null,definitions:{X:{validator:"[A-Za-z0-9]"}}})}getTransformedMask(t){t=this.reorderOptionalCharacters(t);for(var i=0,e=[];i<t.length;){var n="",s=!1;if(this.numeric&&t[i]==this.SYMBOL_OPTIONAL_DIGIT){var r="]";n+="[9",i++;for(var a=!1;i<t.length&&!a;)switch(t[i]){case this.SYMBOL_OPTIONAL_DIGIT:n+="[9",r+="]",i++;break;case this.SYMBOL_CHARACTER:case this.SYMBOL_DIGIT:case this.SYMBOL_LETTER:case this.SYMBOL_MASK_SEPARATOR:case this.SYMBOL_OPTIONAL_LETTER:a=!0;break;case this.SYMBOL_ESCAPE:i++;default:n="["+n+r+this.escape_char(t[i])+"]",r="",i++}n+=r}for(var o=!1;i<t.length&&!s;){if(o)o=!1,n+=this.escape_char(t[i]);else switch(t[i]){case this.SYMBOL_MASK_SEPARATOR:s=!0;break;case this.SYMBOL_DIGIT:case this.SYMBOL_CHARACTER:n+=t[i];break;case this.SYMBOL_LETTER:n+="a";break;case this.SYMBOL_OPTIONAL_DIGIT:n+="[9]";break;case this.SYMBOL_OPTIONAL_LETTER:n+="[a]";break;case this.SYMBOL_ESCAPE:o=!0;default:n+=this.escape_char(t[i])}i++}e.push(n)}return e}reorderOptionalCharacters(t){for(var i=[...t],e=1;e<t.length;e++)for(var n=e;i[n-1]==this.SYMBOL_OPTIONAL_LETTER&&i[n]==this.SYMBOL_LETTER||i[n-1]==this.SYMBOL_OPTIONAL_DIGIT&&i[n]==this.SYMBOL_DIGIT;){var s=i[n];i[n]=i[n-1],i[n-1]=s,n--}return i.join("")}escape_char(t){return-1!=this.INPUTMASK_SPECIAL_CHARS.indexOf(t)?"\\"+t:t}onInput(){clearTimeout(this.changeTimeout);var t=this;this.changeTimeout=setTimeout((function(){t.inputEvent.emit({value:t.nativeInput.value})}),300)}render(){var t={};this.enabled||(t.display="none"),this.numeric&&(t.textAlign="right");var i=this.inputclass;return e("div",null,e("p",{class:"form-control-static",style:this.enabled?{display:"none"}:{}},e("span",{class:this.readonlyclass+" "+this.inputclass,"data-gx-readonly":""},this.enabled?"":this.getInputMask().format(this.value))),e("input",{type:"text",inputmode:"text",class:"form-control "+i,value:this.value,ref:t=>this.nativeInput=t,onInput:()=>this.onInput(),onChange:()=>this.changeEvent.emit(),style:t}))}};k.style=":host{display:block}";const T=class{constructor(e){t(this,e),this.inputEvent=i(this,"input",7),this.changeEvent=i(this,"change",7),this.decimals=2,this.integerdigits=10,this.includethousandseparator=!0,this.includesign=!1,this.usermustenterdecimalseparator=!0,this.decimalseparator=".",this.thousandseparator=",",this.valueprefix="",this.zeropadding=!1,this.inputclass="",this.readonlyclass="",this.editorPosition=0,this.value="0",this.changeTimeout=null}onInput(){clearTimeout(this.changeTimeout);var t=this;this.changeTimeout=setTimeout((function(){t.inputEvent.emit({value:t.inputControl.value})}),300)}handleKeydown(t){"Tab"!=t.key&&"Shift"!=t.key&&0==this.inputControl.selectionStart&&this.inputControl.selectionEnd==this.inputControl.value.length&&(this.inputControl.value=this.getFormattedValue_impl("0"),this.usermustenterdecimalseparator||this.setCursorPosition(this.inputControl.value.length));var i=!1;const e=this.getCursorPosition();if("Delete"==t.key||"Backspace"==t.key?i=this.processDelete(t,e):t.key==this.decimalseparator?i=this.processDecimalSeparator():"-"==t.key?i=this.processMinusSign(e):T.digits.includes(t.key)?i=this.processDigitInsertion(t,e):1!=t.key.length||t.ctrlKey||(i=!0),i)return t.preventDefault(),!1}processMinusSign(t){var i=!0;const e=Math.min(...T.digits.map((t=>this.inputControl.value.indexOf(t))).filter((t=>-1!=t)));return this.includesign&&t==e&&"-"!=this.inputControl.value[e-1]&&(i=!1),i}processDecimalSeparator(){var t=!1;this.inputControl.value.charAt(this.getCursorPosition())==this.decimalseparator&&this.setCursorPosition(this.getCursorPosition()+1);var i=Math.min(this.inputControl.selectionStart,this.inputControl.selectionEnd),e=Math.max(this.inputControl.selectionStart,this.inputControl.selectionEnd);return this.decimals>0&&0==i&&e==this.inputControl.value.length&&this.setCursorPosition(this.inputControl.value.indexOf(this.decimalseparator)+1),-1==this.inputControl.value.indexOf(this.decimalseparator)&&0!=this.decimals||(t=!0),t}processDigitInsertion(t,i){var e=this.inputControl.value.indexOf(this.decimalseparator);if("0"==t.key){const t=Math.min(...T.digits.filter((t=>"0"!=t)).map((t=>this.inputControl.value.indexOf(t))).filter((t=>-1!=t)));if(-1!=t&&!(-1!=e&&i>e||-1!=t&&i>t))return!0}var n=!1;if(this.usermustenterdecimalseparator||i!=this.inputControl.value.length)if(this.decimals>0&&-1!=e&&e<i)this.decimals!=i-e-1&&(this.inputControl.value=this.inputControl.value.substring(0,this.getCursorPosition())+t.key+this.inputControl.value.substring(this.getCursorPosition()+1),this.setCursorPosition(i+1)),n=!0;else{var s=this.inputControl.value;this.decimals>0&&-1!=e&&(s=s.substring(0,s.indexOf(this.decimalseparator)));var r=s.replace(/\D/g,"").replace(/^0+/,"").length;r>=this.integerdigits?n=!0:0==r&&(-1!=this.inputControl.value.indexOf(this.decimalseparator)?this.inputControl.value=this.getFormattedValue_impl(t.key+this.value.substring(this.value.indexOf(this.decimalseparator))):(this.inputControl.value=this.getFormattedValue_impl(t.key),this.setCursorPosition(this.inputControl.value.length)),-1!=this.inputControl.value.indexOf(this.decimalseparator)?this.setCursorPosition(this.inputControl.value.indexOf(this.decimalseparator)):this.setCursorPosition(this.inputControl.value.length),n=!0,this.onInputChange())}else{var a=(this.inputControl.value.replace(/\D/g,"")+t.key).replace(/^0+/,"");a.length<=this.decimals+this.integerdigits&&(this.inputControl.value=this.getFormattedValue_impl(a.length<=this.decimals?"0."+"0".repeat(this.decimals-a.length)+a:a.substring(0,a.length-this.decimals)+"."+a.substring(a.length-this.decimals)),n=!0,this.onInputChange()),n=!0}return n}processDelete(t,i){var e=!1,n=Math.min(this.inputControl.selectionStart,this.inputControl.selectionEnd),s=Math.max(this.inputControl.selectionStart,this.inputControl.selectionEnd);if(0==n&&s==this.inputControl.value.length)this.inputControl.value=this.getFormattedValue_impl("0"),this.setCursorPosition(this.usermustenterdecimalseparator?-1==this.inputControl.value.indexOf(this.decimalseparator)?this.inputControl.value.length:this.inputControl.value.indexOf(this.decimalseparator):this.inputControl.value.length),e=!0,this.onInputChange();else if(n!=s){var r=this.inputControl.value.substring(0,n)+this.inputControl.value.substring(s);r=r.replace(/\D/g,""),this.inputControl.value=this.getFormattedValue_impl(r.substring(0,r.length-this.decimals)+"."+r.substring(r.length-this.decimals)),e=!0,this.setCursorPosition("Backspace"==t.key?n:s),this.onInputChange()}else if("Backspace"==t.key)if(this.usermustenterdecimalseparator||i!=this.inputControl.value.length){if(this.inputControl.value.charAt(this.getCursorPosition()-1)==this.thousandseparator||this.inputControl.value.charAt(this.getCursorPosition()-1)==this.decimalseparator)this.setCursorPosition(this.getCursorPosition()-1),e=!0;else if(0==n&&this.inputControl.value.charAt(s)==this.decimalseparator){const t=this.getCursorPosition();this.inputControl.value=this.inputControl.value.substring(0,this.getCursorPosition()-1)+this.inputControl.value.substring(this.getCursorPosition()),this.setCursorPosition(t-1),e=!0,this.onInputChange()}}else{var a=this.inputControl.value.replace(/\D/g,"").replace(/^0+/,""),o=(a=a.substring(0,a.length-1)).substring(a.length-this.decimals);o="0".repeat(this.decimals-o.length)+o,this.value=a.substring(0,a.length-this.decimals)+"."+o,e=!0}else"Delete"==t.key&&(this.inputControl.value.charAt(this.getCursorPosition())==this.thousandseparator||this.inputControl.value.charAt(this.getCursorPosition())==this.decimalseparator?(this.setCursorPosition(this.getCursorPosition()+1),e=!0):0==n&&this.inputControl.value.charAt(s+1)==this.decimalseparator&&(this.inputControl.value=this.inputControl.value.substring(0,this.getCursorPosition()-1)+this.inputControl.value.substring(this.getCursorPosition()+1),this.setCursorPosition(i),e=!0,this.onInputChange()));return e}escapeRegExp(t){return t.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}replaceAll(t,i,e){return t.replace(new RegExp(this.escapeRegExp(i),"g"),e)}onInputChange(){var t=this.inputControl.value,i=this.value;this.editorPosition=this.getCursorPosition(),this.value=this.inputControl.value.replace(new RegExp("[^\\d"+this.decimalseparator+"-]","g"),"").replace(/^0+/,""),this.value[0]==this.decimalseparator&&(this.value="0"+this.value),Number.isNaN(this.value)&&(this.value="0"),this.inputControl.value=this.getFormattedValue();var e=-1==i.indexOf(this.decimalseparator)?i.length:i.indexOf(this.decimalseparator),n=-1==this.value.indexOf(this.decimalseparator)?this.value.length:this.value.indexOf(this.decimalseparator);this.includethousandseparator&&!this.zeropadding?n>e&&n%3==1?this.editorPosition=this.editorPosition+1:n<e&&n%3==0&&t.substring(0,this.editorPosition)!=this.getFormattedValue().substring(0,this.editorPosition)&&(this.editorPosition=this.editorPosition-1):this.zeropadding&&(this.editorPosition=this.inputControl.value.length-t.length+this.editorPosition)}setCursorPosition(t){this.inputControl.selectionStart=t,this.inputControl.selectionEnd=t}getCursorPosition(){if(this.inputControl){if("selectionStart"in this.inputControl)return this.inputControl.selectionStart;if(t=document.selection){this.inputControl.focus();var t,i=(t=t.createRange()).createRange().text.length;return t.moveStart("character",-this.inputControl.value.length),t.text.length-i}}}getFormattedValue(){return this.getFormattedValue_impl(this.value)}getFormattedValue_impl(t){var i="";""!=this.valueprefix&&(i=this.valueprefix+" "),t.startsWith("-")&&(i+="-");const e=t.indexOf(this.decimalseparator);var n=(-1!=e?t.substring(0,e):t).replace("-","");if(this.zeropadding&&(n="0".repeat(this.integerdigits-n.length)+n),this.includethousandseparator){for(var s=n,r="";s.length>3;)r=this.thousandseparator+s.substring(s.length-3)+r,s=s.substring(0,s.length-3);i+=r=s+r}else i+=n;if(this.decimals>0){var a=-1!=e?t.substring(t.indexOf(this.decimalseparator)+1):"";i=i+this.decimalseparator+a.substring(0,this.decimals),this.decimals-a.length>0&&(i+="0".repeat(this.decimals-a.length))}return i}render(){var t={};this.enabled||(t.display="none"),t.textAlign="right";var i=this.inputclass;return e("div",null,e("p",{class:"form-control-static",style:this.enabled?{display:"none"}:{}},e("span",{class:this.readonlyclass+" "+this.inputclass,"data-gx-readonly":""},this.value)),e("input",{class:"form-control "+i,type:"text",ref:t=>this.inputControl=t,style:t,onInput:()=>this.onInputChange(),onBlur:()=>this.onInputChange(),onChange:()=>this.changeEvent.emit()}))}componentDidRender(){this.inputControl.value=this.getFormattedValue()}componentDidUpdate(){-1!=this.editorPosition&&(this.setCursorPosition(this.editorPosition),this.editorPosition=-1)}static get watchers(){return{value:["onInput"]}}};T.digits=["0","1","2","3","4","5","6","7","8","9"],T.style=":host{display:block}";const D=class{constructor(e){t(this,e),this.changeEvent=i(this,"change",7),this.width=300,this.height=200,this.backgroundimageurl="",this.backgroundcolor="#FFFFFF",this.showclearbutton=!0,this.clearbuttoncaption="Clear",this.canvas=null,this.ctx=null,this.isWriting=!1,this.setValueDebouncer=null}render(){var t,i,s={backgroundImage:""!==(null!==(t=this.backgroundimageurl)&&void 0!==t?t:"")?"url("+this.backgroundimageurl+")":null,backgroundColor:""!==(null!==(i=this.backgroundcolor)&&void 0!==i?i:"")?this.backgroundcolor:null};return console.log(s),e(n,null,e("div",{class:"K2BT_SignaturePadContainer",style:s},e("canvas",{height:this.height,width:this.width,class:"K2BT_SignaturePad",ref:t=>{this.canvas=t,this.ctx=t.getContext("2d")}})),this.showclearbutton?e("button",{class:"K2BT_SignaturePadClearButton",onClick:this.clearCanvas.bind(this)},this.clearbuttoncaption):"")}componentDidRender(){this.canvas.addEventListener("pointerdown",this.handlePointerDown.bind(this),{passive:!0}),document.addEventListener("pointerup",this.handlePointerUp.bind(this),{passive:!0}),this.canvas.addEventListener("pointermove",this.handlePointerMove.bind(this),{passive:!0})}clearCanvas(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}handlePointerDown(t){this.isWriting=!0,this.ctx.beginPath();const[i,e]=this.getCursorPosition(t);this.ctx.moveTo(i,e)}handlePointerUp(){var t=this.isWriting;this.isWriting=!1,t&&(null!==this.setValueDebouncer&&clearTimeout(this.setValueDebouncer),this.setValueDebouncer=setTimeout((()=>{this.setValueDebouncer=null,this.changeEvent.emit(this.canvas.toDataURL())}).bind(this),200))}handlePointerMove(t){if(!this.isWriting)return;const[i,e]=this.getCursorPosition(t);this.ctx.lineTo(i,e),this.ctx.stroke()}getCursorPosition(t){return[t.clientX-t.target.getBoundingClientRect().x,t.clientY-t.target.getBoundingClientRect().y]}};export{h as k2bt_calendar_action_menu,d as k2bt_calendar_day_in_month_picker,f as k2bt_calendar_day_view,v as k2bt_calendar_full_view,p as k2bt_calendar_month_view,m as k2bt_calendar_period_view,b as k2bt_edit_collection,y as k2bt_enhancedcombo,k as k2bt_masked_input,T as k2bt_numeric_input,D as k2bt_signature_pad}